(()=>{"use strict";function t(t,e){void 0===e&&(e=""),e||(e="show");var n="show"===e?"block":"none";jQuery(t).css("display",n)}function e(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039"};return t.replace(/[&<>"']/g,(function(t){return e[t]}))}function n(){var t=acfw_edit_coupon.decimal_separator,e=jQuery(this),n=e.val()+"";n=="0"+t&&e.val("0"),"0"!=n&&n.substring(0,2)!="0"+t&&(n=(n=n.replace(/^0+/,"")).substring(0,1)==t?"0"+n:n,e.val(n))}function o(t,e,n,o){return void 0===n&&(n="value"),void 0===o&&(o="label"),t.map((function(t){return'<option value="'.concat(t[n],'" ').concat(t[n]==e?"selected":"",">").concat(t[o],"</option>")})).toString().replace(/>,</g,"><")}function a(t,e){return t==e?"selected":""}function c(t){void 0===t&&(t="");var e=acfw_edit_coupon.condition_field_options,n=e.exactly,o=e.anyexcept,c=e.morethan,i=e.lessthan;return'\n    <option value="=" '.concat(a(t,"="),">").concat(n,'</option>\n    <option value="!=" ').concat(a(t,"!="),">").concat(o,'</option>\n    <option value=">" ').concat(a(t,">"),">").concat(c,'</option>\n    <option value="<" ').concat(a(t,"<"),">").concat(i,"</option>\n  ")}function i(t){var e=acfw_edit_coupon.decimal_separator,n=parseFloat(t.replace(e,"."));return isNaN(n)?0:n}function d(t){var n=t.product_id,o=t.product_label,a=t.condition_label,c=t.quantity;return'\n    <tr>\n        <td class="product" data-product="'.concat(e(JSON.stringify(t)),'" data-product_id="').concat(n,'">\n            ').concat(o,'\n        </td>\n        <td class="condition">').concat(a,'</td>\n        <td class="quantity">').concat(c,'</td>\n        <td class="actions">\n            <a class="edit" href="javascript:void(0)"><span class="dashicons dashicons-edit"></span></a>\n            <a class="remove" href="javascript:void(0)"><span class="dashicons dashicons-no"></span></a>\n        </td>\n    </tr>\n    ')}function l(t){void 0===t&&(t=4);var e=acfw_edit_coupon.no_products_added;return'\n    <tr class="no-result">\n        <td colspan="'.concat(t,'">').concat(e,"</td>\n    </tr>\n    ")}var s=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},r=jQuery,u=acfw_edit_coupon.cart_condition_fields.product_quantity;function p(t){var e,n,o=acfw_edit_coupon.add_product_label,a=u.title,c=u.product_col,i=u.condition_col,r=u.quantity_col,p="",f=[];if(t.length)try{for(var _=s(t),v=_.next();!v.done;v=_.next()){var h=v.value;f.push(h.product_id),p+=d(h)}}catch(t){e={error:t}}finally{try{v&&!v.done&&(n=_.return)&&n.call(_)}finally{if(e)throw e.error}}else p=l(4);return'\n    <div class="product-quantity-condition-field condition-set"  data-type="product-quantity">\n        <a class="remove-condition-field" href="javascript:void(0);"><i class="dashicons dashicons-trash"></i></a>\n        <h3 class="condition-field-title">'.concat(a,'</h3>\n        <table class="product-quantity-condition-table acfw-styled-table" data-exclude="').concat(JSON.stringify(f),'">\n            <thead>\n                <tr>\n                    <th class="product">').concat(c,'</th>\n                    <th class="condition">').concat(i,'</th>\n                    <th class="quantity">').concat(r,'</th>\n                    <th class="actions"></th>\n                </tr>\n            </thead>\n            <tbody>\n                ').concat(p,'\n            </tbody>\n            <tfoot>\n                <tr>\n                    <td colspan="4">\n                        <a class="add-table-row" href="javascript:void(0);">\n                            <i class="dashicons dashicons-plus"></i>\n                            ').concat(o,"\n                        </a>\n                    </td>\n                </tr>\n            </tfoot>\n        </table>\n    </div>\n    ")}function f(t){var e=t.querySelectorAll(".product-quantity-condition-table tr td.product"),n=[];return e.forEach((function(t){return n.push(r(t).data("product"))})),n}var _=jQuery,v=acfw_edit_coupon.cart_condition_fields.customer_registration_date;function h(t){var e=v.title,n=v.desc,o=v.hours;return'\n    <div class="customer-registration-date-field condition-field" data-type="customer-registration-date">\n\n        <a class="remove-condition-field" href="javascript:void(0);"><i class="dashicons dashicons-trash"></i></a>\n        <h3 class="condition-field-title">'.concat(e,"</h3>\n\n        <label>").concat(n,'</label>   \n        <div class="field-control side-label">\n            <input class="condition-value" type="number" min="1" value="').concat(t&&t>-1?t:0,'">\n            <label>').concat(o,"</label>\n        </div>\n    </div>\n    ")}function b(t){return parseInt(_(t).find(".condition-value").val())}var y=jQuery,m=acfw_edit_coupon.cart_condition_fields.customer_last_ordered;function g(t){var e=m.title,n=m.desc,o=m.hours;return'\n    <div class="customer-last-ordered-field condition-field" data-type="customer-last-ordered">\n        <a class="remove-condition-field" href="javascript:void(0);"><i class="dashicons dashicons-trash"></i></a>\n        <h3 class="condition-field-title">'.concat(e,"</h3>\n        <label>").concat(n,'</label>    \n        <div class="field-control side-label">\n            <input class="condition-value" type="number" min="0" value="').concat(t&&t>-1?t:0,'">\n            <label>').concat(o,"</label>\n        </div>\n    </div>\n    ")}function w(t){return parseInt(y(t).find(".condition-value").val())}var x=jQuery,j=acfw_edit_coupon.cart_condition_fields.total_customer_spend;function k(t){var e=t.condition,n=t.value,o=t.offset,a=acfw_edit_coupon.condition_label,d=j.title,l=j.desc,s=j.total_spend,r=j.days_offset,u=n?i(n):0;return'\n    <div class="total-customer-spend-field condition-field" data-type="total-customer-spend">\n        <a class="remove-condition-field" href="javascript:void(0);"><i class="dashicons dashicons-trash"></i></a>\n        <h3 class="condition-field-title">'.concat(d,"</h3>\n        <label>").concat(l,'</label>\n        <div class="field-control">\n            <label>').concat(a,'</label>\n            <select class="condition-select">\n                ').concat(c(e),'\n            </select>\n        </div>\n        <div class="field-control">\n            <label>').concat(s,'</label>\n            <input class="condition-value wc_input_price" type="text" min="0" value="').concat(!isNaN(u)&&u>-1?n:0,'">\n        </div>\n        <div class="field-control">\n            <label>').concat(r,'</label>\n            <input class="condition-offset" type="number" min="0" value="').concat(o&&o>-1?o:0,'">\n        </div>\n    </div>\n    ')}function S(t){return{condition:x(t).find(".condition-select").val(),value:x(t).find(".condition-value").val(),offset:x(t).find(".condition-offset").val()}}var q=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},z=jQuery,Q=acfw_edit_coupon.cart_condition_fields.has_ordered_before;function O(t){var e,n;void 0===t&&(t={});var o=t.condition,c=t.value,i=t.products,s=acfw_edit_coupon.cart_condition_fields,r=acfw_edit_coupon.add_product_label,u=s.product_quantity,p=u.product_col,f=u.condition_col,_=u.quantity_col,v=s.has_ordered_before,h=v.title,b=v.type,y=v.within_a_period,m=v.number_of_orders,g=v.num_prev_days,w=[],x="";if(i&&i.length)try{for(var j=q(i),k=j.next();!k.done;k=j.next()){var S=k.value;w.push(S.product_id),x+=d(S)}}catch(t){e={error:t}}finally{try{k&&!k.done&&(n=j.return)&&n.call(j)}finally{if(e)throw e.error}}else x=l(4);return'\n    <div class="cart-quantity-field condition-field condition-set" data-type="has-ordered-before">\n        <a class="remove-condition-field" href="javascript:void(0);"><i class="dashicons dashicons-trash"></i></a>\n        <h3 class="condition-field-title">'.concat(h,'</h3>\n        <div class="field-control">\n            <label>').concat(b,'</label>\n            <select class="condition-select has-ordered-before-type">\n                <option value="within-a-period" ').concat(a(o,"within-a-period"),">").concat(y,'</option>\n                <option value="number-of-orders" ').concat(a(o,"number-of-orders"),">").concat(m,'</option>\n            </select>\n        </div>\n        <div class="field-control condition-type-value">\n            <label>').concat(g,'</label>\n            <input class="condition-value" type="number" min="0" value="').concat(c,'">\n        </div>\n        <table class="has-ordered-before-products-table acfw-styled-table" data-exclude="').concat(JSON.stringify(w),'">\n            <thead>\n                <tr>\n                    <th class="product">').concat(p,'</th>\n                    <th class="condition">').concat(f,'</th>\n                    <th class="quantity">').concat(_,'</th>\n                    <th class="actions"></th>\n                </tr>\n            </thead>\n            <tbody>\n                ').concat(x,'\n            </tbody>\n            <tfoot>\n                <tr>\n                    <td colspan="4">\n                        <a class="add-table-row" href="javascript:void(0);">\n                            <i class="dashicons dashicons-plus"></i>\n                            ').concat(r,"\n                        </a>\n                    </td>\n                </tr>\n            </tfoot>\n        </table>\n    </div>\n    ")}function N(t){var e=t.querySelectorAll(".has-ordered-before-products-table tr td.product"),n=[];return e.forEach((function(t){return n.push(z(t).data("product"))})),{condition:z(t).find(".condition-select").val(),value:parseInt(z(t).find(".condition-value").val()),products:n}}var C=jQuery,I=acfw_edit_coupon.cart_condition_fields.shipping_zone_region;function D(t){var n=t.value,o=I.title,c=I.zone_label,i=I.zone_placeholder,d=I.regions_label,l=I.regions_placeholder,s=I.zone_options,r=n&&n.length?n:[];return'\n    <div class="shipping-zone-region-field condition-field" data-type="shipping-zone-region"\n        data-zones="'.concat(e(JSON.stringify(s)),'"\n        data-regions="').concat(e(JSON.stringify(r)),'">\n        <a class="remove-condition-field" href="javascript:void(0);"><i class="dashicons dashicons-trash"></i></a>\n        <h3 class="condition-field-title">').concat(o,'</h3>\n        <div class="field-control">\n            <label>').concat(c,'</label>\n            <select class="condition-select wc-enhanced-select" data-placeholder="').concat(e(i),'">\n                <option value="">').concat(i,"</option>\n                ").concat(function(t,e){var n=t.condition,o="";for(var c in e){var i=e[c];o+='\n            <option value="'.concat(c,'" ').concat(a(n,c),">\n                ").concat(i.name,"\n            </option>\n        ")}return o}(t,s),'\n            </select>\n        </div>\n        <div class="field-control regions">\n            <label>').concat(d,'</label>\n            <select class="condition-value wc-enhanced-select" multiple data-placeholder="').concat(e(l),'">\n            </select>\n        </div>\n    </div>\n    ')}function J(t){return{condition:C(t).find(".condition-select").val(),value:C(t).find(".condition-value").val()}}var E=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},A=jQuery,P=acfw_edit_coupon.cart_condition_fields.custom_taxonomy,T=acfw_edit_coupon.cart_condition_fields,W=acfw_edit_coupon.condition_field_options;function M(t){var n=t.condition,o=t.value,c=t.qtyCondition,i=t.quantity,d=P.title,l=P.select_taxonomy,s=(P.product_type,P.select_terms),r=T.cart_quantity.field,u=acfw_edit_coupon.condition_label,p=W.exactly,f=W.anyexcept,_=W.morethan,v=W.lessthan,h=c||">",b=o&&o.length?o:[];return'\n    <div class="custom-taxonomy-field condition-field" data-type="custom-taxonomy" \n      data-selected_terms="'.concat(e(JSON.stringify(b)),'">\n      <a class="remove-condition-field" href="javascript:void(0);"><i class="dashicons dashicons-trash"></i></a>\n      <h3 class="condition-field-title">').concat(d,'</h3>\n      <div class="field-control">\n        <select class="condition-select wc-enhanced-select custom-taxonomy" data-placeholder="').concat(l,'">\n          <option value="">').concat(l,"</option>\n          ").concat(function(t){var e,n,o=P.tax_options,c=(P.product_type,"");try{for(var i=E(o),d=i.next();!d.done;d=i.next()){var l=d.value,s=l.name,r=l.label;c+='\n      <option value="'.concat(s,'" ').concat(a(t,s),">\n        ").concat(r,"\n      </option>\n    ")}}catch(t){e={error:t}}finally{try{d&&!d.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return c}(n),'\n        </select>\n      </div>\n      <div class="field-control field-control-wide">\n        <select class="condition-value wc-enhanced-select" multiple data-placeholder="').concat(s,'">\n        </select>\n      </div>\n      <div class="field-control condition">\n            <label>').concat(u,'</label>\n            <select class="condition-select qty-condition-select">\n                <option value="=" ').concat("="==h?"selected":"",">").concat(p,'</option>\n                <option value="!=" ').concat("!="==h?"selected":"",">").concat(f,'</option>\n                <option value=">" ').concat(">"==h?"selected":"",">").concat(_,'</option>\n                <option value="<" ').concat("<"==h?"selected":"",">").concat(v,'</option>\n            </select>\n        </div>\n        <div class="field-control quantity">\n            <label>').concat(r,'</label>\n            <input type="number" class="condition-quantity" value="').concat("number"==typeof i?i:0,'" min="').concat("<"==c?1:0,'">\n        </div>\n    </div>\n    ')}function F(t){return{condition:A(t).find(".condition-select").val(),value:A(t).find(".condition-value").val(),qtyCondition:A(t).find(".qty-condition-select").val(),quantity:A(t).find(".condition-quantity").val()}}var H=jQuery,V=acfw_edit_coupon.cart_condition_fields,K=V.custom_user_meta,R=V.custom_cart_item_meta;function X(t,e){var n=t.condition,o=t.key,i=t.value,d=t.type,l=acfw_edit_coupon.condition_label,s=V[e],r=s.title,u=s.meta_key,p=s.meta_value,f=s.value_type,_=e.replace(/_/g,"-");return'\n    <div class="'.concat(_,'-field condition-field" data-type="').concat(_,'">\n      <a class="remove-condition-field" href="javascript:void(0);"><i class="dashicons dashicons-trash"></i></a>\n      <h3 class="condition-field-title">').concat(r,'</h3>\n      <div class="field-control wider">\n        <label>').concat(f,'</label>\n        <select class="value-type">\n          ').concat(function(t,e){var n=V[e].type_options,o="";for(var c in n){var i=n[c];o+='<option value="'.concat(c,'" ').concat(a(t,c),">").concat(i,"</option>")}return o}(d,e),'\n        </select>\n      </div>\n      <div class="field-control">\n        <label>').concat(l,'</label>\n        <select class="condition-select">\n          ').concat(c(n),"\n          ").concat("custom_cart_item_meta"===e?function(t){void 0===t&&(t="");var e=acfw_edit_coupon.condition_exists_field_option,n=e.exists,o=e.notexist;return'\n    <option value="exists" '.concat(a(t,"exists"),">").concat(n,'</option>\n    <option value="notexist" ').concat(a(t,"notexist"),">").concat(o,"</option>\n  ")}(n):"",'\n        </select>\n      </div>\n      <div class="field-control wider">\n        <label>').concat(u,'</label>\n        <input class="condition-key" type="text" value="').concat(o||"",'">\n      </div>\n      <div class="field-control wider">\n        <label>').concat(p,'</label>\n        <input class="condition-value" type="text" value="').concat(i||i>-1?i:"",'">\n      </div>\n    </div>\n  ')}function B(t){return{condition:H(t).find(".condition-select").val(),key:H(t).find(".condition-key").val(),value:H(t).find(".condition-value").val(),type:H(t).find(".value-type").val()}}var G=jQuery,L=acfw_edit_coupon.cart_condition_fields.number_of_orders;function U(t){var e=t.condition,n=t.value,o=t.offset,a=acfw_edit_coupon.condition_label,i=L.title,d=L.desc,l=L.count_label,s=L.prev_days_label;return'\n    <div class="number-of-orders-field cart-quantity-field condition-field" data-type="number-of-orders">\n      <a class="remove-condition-field" href="javascript:void(0);"><i class="dashicons dashicons-trash"></i></a>\n      <h3 class="condition-field-title">'.concat(i,"</h3>\n      <label>").concat(d,'</label>\n      <div class="field-control">\n        <label>').concat(a,'</label>\n        <select class="condition-select">\n            ').concat(c(e),'\n        </select>\n      </div>\n      <div class="field-control">\n          <label>').concat(l,'</label>\n          <input class="condition-value" type="number" min="0" value="').concat(n>=0?n:"",'">\n      </div>\n      <div class="field-control">\n          <label>').concat(s,'</label>\n          <input class="condition-offset" type="number" min="0" value="').concat(o>=0?o:"",'">\n      </div>\n    </div>\n  ')}function Y(t){return{condition:G(t).find(".condition-select").val(),value:G(t).find(".condition-value").val(),offset:G(t).find(".condition-offset").val()}}var Z=jQuery;function $(){var t=document.querySelector("#acfw_cart_conditions");u.default_data_value={},u.template_callback=p,u.scraper_callback=f,v.template_callback=h,v.scraper_callback=b,m.template_callback=g,m.scraper_callback=w,j.default_data_value={},j.template_callback=k,j.scraper_callback=S,Q.default_data_value={},Q.template_callback=O,Q.scraper_callback=N,I.default_data_value={},I.template_callback=D,I.scraper_callback=J,P.default_data_value={},P.template_callback=M,P.scraper_callback=F,K.default_data_value={},K.template_callback=X,K.scraper_callback=B,R.default_data_value={},R.template_callback=X,R.scraper_callback=B,L.default_data_value={},L.template_callback=U,L.scraper_callback=Y,Z(t).on("change","input.condition-value",tt),Z(t).on("change",".custom-cart-item-meta-field .condition-select",et)}function tt(){var t=Z(this);if("number"===t.closest(".condition-field").find("select.value-type").val()){var e=parseInt(t.val()+"");t.val(isNaN(e)?"":Math.round(e))}}function et(){var t,e=Z(this),n=e.closest(".condition-field").find(".condition-value");["exists","notexist"].includes(e.val().toString())?(n.val(0),n.prop("disabled",!0),n.parent().hide()):["exists","notexist"].includes(null===(t=e.data("prevValue"))||void 0===t?void 0:t.toString())&&(n.val(""),n.prop("disabled",!1),n.parent().show()),e.data("prevValue",e.val().toString())}var nt=jQuery,ot=document.querySelector("#acfw_add_products");function at(t){nt(ot).data("editing",t),nt(ot).find("#save-add-products").prop("disabled",!t)}function ct(t,n){void 0===t&&(t=[]),void 0===n&&(n=!1);var o=n.discount_type,c=n.discount_value,d=acfw_edit_coupon.product_table_buttons,l=d.edit,s=d.add,r=d.cancel,u=acfw_edit_coupon.bogo_form_fields.type_to_search,p="object"==typeof n?function(t){var e=t.product_id,n=t.product_label;return'<option value="'.concat(e,'">').concat(n,"</option>")}(n):"",f="object"==typeof n?l:s,_=c&&i(c)>=0&&"nodiscount"!==o?c:"";return'\n    <tr class="add-edit-form adding">\n        <td class="product" data-object="'.concat("object"==typeof n?e(JSON.stringify(n)):0,'">\n            <div class="object-search-wrap">\n                <select class="').concat("product-in-cart",' wc-product-search"\n                    data-placeholder="').concat(u,'"\n                    data-action="').concat("acfwp_add_products_search",'"\n                    data-exclude="').concat(e(JSON.stringify(t)),'">').concat(p,'</select>\n            </div>\n        </td>\n        <td class="quantity">\n            <input type="number" class="condition-quantity" value="').concat("object"==typeof n?n.quantity:1,'" min="1">\n        </td>\n        <td class="price">\n            <div>\n            <select class="discount_type">\n                ').concat(function(t,e){void 0===t&&(t=""),void 0===e&&(e=!1);var n=acfw_edit_coupon.currency_symbol,o=acfw_edit_coupon.discount_field_options,c=o.nodiscount,i=o.override,d=o.percent,l=o.fixed,s='<option value="nodiscount" '.concat(a(t,"nodiscount"),">= : ").concat(c,"</option>");return"\n    ".concat(e?s:"",'\n    <option value="override" ').concat(a(t,"override"),">").concat(n," : ").concat(i,'</option>\n    <option value="percent" ').concat(a(t,"percent"),">% : ").concat(d,'</option>\n    <option value="fixed" ').concat(a(t,"fixed"),">-").concat(n," : ").concat(l,"</option>\n  ")}(o,!0),'\n            </select>\n            <input type="text" class="discount_value short wc_input_price" value="').concat(_,'">\n            </div>\n        </td>\n        <td class="actions">\n            <button type="button" class="condition-product-add button-primary">').concat(f,'</button>\n            <button type="button" class="cancel button">').concat(r,"</button>\n        </td>\n    </tr>\n    ")}function it(t){var n=t.product_id,o=t.product_label,a=t.quantity,c=t.discount_type,i=t.discount_value,d="nodiscount"!==c?i:"";return'\n    <tr>\n        <td class="product product-'.concat(n,' object" data-product="').concat(e(JSON.stringify(t)),'">\n            ').concat(o,'\n        </td>\n        <td class="quantity">').concat(a,'</td>\n        <td class="price">(').concat(c,") ").concat(d,'</td>\n        <td class="actions">\n            <a class="edit" href="javascript:void(0)"><span class="dashicons dashicons-edit"></span></a>\n            <a class="remove" href="javascript:void(0)"><span class="dashicons dashicons-no"></span></a>\n        </td>\n    </tr>\n    ')}function dt(t){void 0===t&&(t=4);var e=acfw_edit_coupon.no_products_added;return'\n    <tr class="no-result">\n        <td colspan="'.concat(t,'">').concat(e,"</td>\n    </tr>\n    ")}var lt=jQuery;function st(){var t=lt(this).closest(".acfw-styled-table"),e=t.find("tbody"),n=t.data("exclude");e.find("tr.no-result").remove(),e.append(ct(n)),e.find("select.discount_type").trigger("change"),e.find("select.wc-product-search").trigger("change"),lt("body").trigger("wc-enhanced-select-init")}function rt(){var t=jQuery(this),e=t.closest("tr"),n=t.closest(".acfw-styled-table"),o=n.find("tbody"),a=e.find(".product").data("product"),c=a.product_id,i=n.data("exclude");(i="object"==typeof i?i:[]).splice(i.indexOf(c),1),o.find("tr.no-result").remove(),e.replaceWith(ct(i,a)),o.find("select.discount_type").trigger("change"),o.find("select.wc-product-search").trigger("acfw_product_select"),n.data("exclude",i),n.find("select.wc-product-search").data("exclude",i),lt("body").trigger("wc-enhanced-select-init")}function ut(){var t=acfw_edit_coupon.fill_form_propery_error_msg,e=(acfw_edit_coupon.product_exists_in_table,jQuery(this)),n=e.closest("tr"),o=e.closest("table.acfw-styled-table"),a=n.find(".wc-product-search"),c=n.find(".condition-quantity"),d=n.find("select.discount_type").val().toString(),l=n.find("input.discount_value").val().toString(),s=o.data("exclude"),r=parseInt(n.find(".wc-product-search").val().toString()),u={product_id:r,quantity:parseInt(n.find(".condition-quantity").val().toString()),product_label:n.find(".wc-product-search option:selected").text(),discount_type:d,discount_value:l};!a.val()||!c.val()||c.val()<1||"nodiscount"!==d&&(isNaN(i(l))||i(l)<0)?vex.dialog.alert(t):s.includes(r)?vex.dialog.alert(acfw_edit_coupon.product_exists_in_table):((s="object"==typeof s?s:[]).push(r),n.replaceWith(it(u)),o.data("exclude",s),o.find(".wc-product-search").data("exclude",s),at(!0))}function pt(){var t=jQuery(this),e=t.closest("tr"),n=t.closest("table"),o=e.closest("tbody"),a=e.find("td").length,c=e.find("td.product").data("object"),i=n.data("exclude");i.includes(c.product_id)?vex.dialog.alert(acfw_edit_coupon.product_exists_in_table):"object"==typeof c?((i="object"==typeof i?i:[]).push(c.product_id),e.replaceWith(it(c)),n.data("exclude",i),n.find(".wc-product-search").data("exclude",i)):(e.remove(),o.find("tr").length<=0&&o.html(dt(a)))}function ft(){var t=jQuery(this).closest("tr"),e=t.closest("table"),n=t.closest("tbody"),o=t.find("td").length,a=t.find("td.object").data("product"),c=e.data("exclude"),i=c.indexOf(parseInt(a.product_id));-1!==i&&c.splice(i,1),e.data("exclude",c),e.find(".wc-product-search").data("exclude",c),t.remove(),n.find("tr").length<=0&&n.html(dt(o)),at(!0)}var _t=jQuery,vt=woocommerce_admin_meta_boxes.post_id,ht=document.querySelector("#acfw_add_products"),bt=ht?ht.querySelector(".acfw-overlay"):null;function yt(){_t("#acfw_bogo_deals").find(".acfw-styled-table tr.add-edit-form button.cancel").trigger("click");var e,n=acfw_edit_coupon.post_status,o=ht.querySelectorAll("table.acfw-styled-table tbody td.object"),a=ht.querySelector(".add-before-cart-condition-check-field input[type='checkbox']"),c=[];o.forEach((function(t){(e=_t(t).data("product"))&&c.push(e)})),t(bt,"show"),_t.post(ajaxurl,{action:"acfw_save_add_products_data",coupon_id:vt,products:c.length?c:"empty",add_before_conditions:_t(a).is(":checked")?1:0},(function(e){"success"==e.status?"publish"!==n&&(_t("input[name='post_title']").val()||_t("input[name='post_title']").val("coupon-"+vt),_t("select[name='post_status']").append(new Option("Published","publish")).val("publish"),_t("#publishing-action").append('\n                    <input type="hidden" name="publish" value="Publish">\n                '),_t("input#publish").click()):e.error_msg&&(vex.dialog.alert(e.error_msg),console.log(e),_t(ht).addClass("save-error")),_t(ht).find("button#clear-add-products").prop("disabled",!1),at(!1),t(bt,"hide")}),"json")}function mt(){var e=_t(this);if(confirm(e.data("prompt"))){var n=ht.querySelector("table.acfw-styled-table tbody");t(bt,"show"),_t.post(ajaxurl,{action:"acfw_clear_add_products_data",coupon_id:vt,_wpnonce:e.data("nonce")},(function(o){"success"==o.status?(_t(n).html(dt(4)),e.prop("disabled",!0),at(!1),"Published"!=_t("#post-status-display").text()&&(_t("input[name='post_title']").val()||_t("input[name='post_title']").val("coupon-"+vt),_t("input#publish").click())):(o.error_msg&&vex.dialog.alert(o.error_msg),console.log(o)),t(bt,"hide")}),"json")}}function gt(t){_t(".coupon_data_tabs").find(".acfw_add_products_tab").hasClass("active")&&_t(ht).data("editing")&&(t.preventDefault(),_t(ht).find("#save-add-products").trigger("click"),setTimeout((function(){_t(ht).hasClass("save-error")?_t(ht).removeClass("save-error"):_t("form#post").submit()}),1e3))}var wt=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,a,c=n.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(o=c.next()).done;)i.push(o.value)}catch(t){a={error:t}}finally{try{o&&!o.done&&(n=c.return)&&n.call(c)}finally{if(a)throw a.error}}return i},xt=function(t,e,n){if(n||2===arguments.length)for(var o,a=0,c=e.length;a<c;a++)!o&&a in e||(o||(o=Array.prototype.slice.call(e,0,a)),o[a]=e[a]);return t.concat(o||Array.prototype.slice.call(e))},jt=jQuery,kt=document.querySelector("#acfw_add_products");function St(t){void 0===t&&(t=jQuery),t(kt).on("click",".acfw-styled-table tfoot .add-table-row",st),t(kt).on("click",".acfw-styled-table td.actions a.edit",rt),t(kt).on("click","tr.add-edit-form .actions .condition-product-add",ut),t(kt).on("click","tr.add-edit-form .actions .cancel",pt),t(kt).on("click",".acfw-styled-table td.actions a.remove",ft),t(kt).on("click","button#save-add-products",yt),t(kt).on("click","button#clear-add-products",mt),t(kt).on("change","select.discount_type",qt),t(kt).on("blur",".wc_input_price",n),t("form#post").on("submit",gt),t(kt).css("min-height",t("#coupon_options ul.coupon_data_tabs").height()+10),t(kt).on("click",".acfw-styled-table .actions .remove",(function(){return at(!0)})),t(kt).on("change","input[name='add_before_cart_condition']",(function(){return at(!0)})),function(){var t=jt(kt).data("products"),e=jt(kt).find(".add-products-data-table tbody");if(t.length>0){var n="";t.forEach((function(t){n+=it(t)})),e.html(n)}else e.html(dt(4))}(),t(document).ajaxComplete(zt),t(kt).on("change","select.discount_type",Qt)}function qt(){var t=jt(this);t.closest("tr").find(".discount_value").prop("disabled","nodiscount"===t.val())}function zt(t,e){var n=e.getResponseHeader("X-Subscription-IDs");if(n){var o=jt(kt).data("subscription_ids")||[],a=n.split(",").map((function(t){return parseInt(t)}));jt(kt).data("subscription_ids",xt(xt([],wt(o),!1),wt(a),!1).filter((function(t,e,n){return n.indexOf(t)===e})))}}function Qt(){var t=jt(kt).data("subscription_ids")||[];if(t.length){var e=jt(this),n=e.closest("tr").find("select.wc-product-search"),o=parseInt(n.val());t.includes(o)&&"nodiscount"!==e.val()&&(vex.dialog.alert(jt(kt).data("subscription_discount_error")),e.val("nodiscount"),e.trigger("change"))}}var Ot=jQuery;function Nt(){var t=Ot("#customer_email"),e=parseInt(Ot("#usage_limit").val()),n=parseInt(Ot("#usage_limit_per_user").val()),o=Ot("#acfw_auto_apply_coupon_field"),a=Ot("#_acfw_enable_virtual_coupons").is(":checked"),c=Ot("#acfw-auto-apply-coupon .auto-apply-warning");(t.val()||e||n||a)&&o.prop("checked")?c.show():c.hide()}var Ct=jQuery;function It(){var t=Ct(this),e=t.closest("tr"),n=e.find(".select-shipping-method"),o=e.closest(".acfw-styled-table"),a=(o.data("exclude"),(o.data("zonemethods")||[]).filter((function(e){return e.zone_id==t.val()}))),c=a.length?a[0].methods:[];n.empty(),c.length&&(c.map((function(t){return n.append(new Option(t.label,t.value))})),n.trigger("change"))}var Dt=jQuery,Jt=document.querySelector("#acfw_shipping_overrides");function Et(t){Dt(Jt).data("editing",t),Dt(Jt).find("#save-shipping-overrides").prop("disabled",!t)}function At(t){var e=acfw_edit_coupon.no_shipping_overrides_added;return'\n        <tr class="no-result">\n            <td colspan="'.concat(t,'">').concat(e,"</td>\n        </tr>\n    ")}var Pt=jQuery,Tt=document.querySelector("#acfw_shipping_overrides"),Wt=woocommerce_admin_meta_boxes.post_id;function Mt(){var e=acfw_edit_coupon.post_status,n=(acfw_edit_coupon.no_shipping_overrides_save,Tt.querySelector(".acfw-overlay")),o=Pt(this),a=Tt.querySelectorAll(".shipping-overrides-table tbody tr td.object"),c=[];a.forEach((function(t){c.push(Pt(t).data("object"))})),t(n,"show"),o.prop("disabled",!0),Pt.post(ajaxurl,{action:"acfw_save_shipping_overrides",coupon_id:Wt,overrides:c.length?c:"empty"},(function(o){"success"==o.status?"publish"!==e&&(Pt("input[name='post_title']").val()||Pt("input[name='post_title']").val("coupon-"+Wt),Pt("select[name='post_status']").append(new Option("Published","publish")).val("publish"),Pt("#publishing-action").append('\n                    <input type="hidden" name="publish" value="Publish">\n                '),Pt("input#publish").click()):(o.error_msg&&vex.dialog.alert(o.error_msg),console.log(o)),Pt(Tt).find("#clear-shipping-overrides").prop("disabled",!1),Et(!1),t(n,"hide")}),"json")}function Ft(){var e=Pt(this);if(confirm(e.data("prompt"))){var n=Pt(Tt.querySelector("table.acfw-styled-table")),o=n.find("tbody"),a=Tt.querySelector(".acfw-overlay");t(a,"show"),Pt.post(ajaxurl,{action:"acfw_clear_shipping_overrides",coupon_id:woocommerce_admin_meta_boxes.post_id,_wpnonce:e.data("nonce")},(function(c){if("success"==c.status){var i=n.find("thead tr th").length;o.html(""),o.find("tr").length<=0&&o.append(At(i)),n.data("exclude",[]),e.prop("disabled",!0),Et(!1),"Published"!=jQuery("#post-status-display").text()&&(jQuery("input[name='post_title']").val()||jQuery("input[name='post_title']").val("coupon-"+Wt),jQuery("input#publish").click())}else c.error_msg&&vex.dialog.alert(c.error_msg),console.log(c);t(a,"hide")}),"json")}}function Ht(t){Pt(Tt).data("editing")&&(t.preventDefault(),Pt(Tt).find("#save-shipping-overrides").trigger("click"),Pt("form#post").off("submit",Ht),setTimeout((function(){Pt("form#post").submit()}),1e3))}var Vt=jQuery,Kt=document.querySelector("#acfw_shipping_overrides");function Rt(t){void 0===t&&(t={});var n=acfw_edit_coupon.product_table_buttons,c=n.add,d=n.edit,l=n.cancel,s=t.shipping_zone,r=t.discount_type,u=t.discount_value,p=Vt(Kt).find(".shipping-overrides-table").data("zonemethods")||[],f=p.map((function(t){return{value:t.zone_id,label:t.zone_name}})),_=u&&i(u)>=0?u:"",v=s>=0||"nozone"===s?d:c,h='\n        <tr class="add-edit-form fresh">\n            <td class="shipping-zone" data-object="'.concat(e(JSON.stringify(t)),'">\n                <div>\n                    <select class="select-shipping-zone wc-enhanced-select" data-placeholder="Select shipping zone">\n                    ').concat(o(f,s),'\n                    </select>\n                </div>\n            </td>\n            <td class="shipping-method">\n                <div>\n                    <select class="select-shipping-method wc-enhanced-select" data-placeholder="Select shipping method">\n                        ').concat(function(t,e){var n=e.shipping_zone,a=e.shipping_method;if("nozone"===n&&a||n>=0&&a){var c=t.filter((function(t){return t.zone_id==n}));return o(c.length?c[0].methods:[],a)}return o(t.length?t[0].methods:[],a)}(p,t),'\n                    </select>\n                </div>\n            </td>\n            <td class="discount">\n                <select class="discount-type">\n                    ').concat(function(t){void 0===t&&(t="");var e=acfw_edit_coupon.currency_symbol,n=acfw_edit_coupon.discount_field_options,o=n.override,c=n.percent,i=n.fixed;return'\n        <option value="percent" '.concat(a(t,"percent"),">% : ").concat(c,'</option>\n        <option value="fixed" ').concat(a(t,"fixed"),">-").concat(e," : ").concat(i,'</option>\n        <option value="override" ').concat(a(t,"override"),">").concat(e," : ").concat(o,"</option>\n    ")}(r),'\n                </select>\n                <input type="text" class="discount_value short wc_input_price" value="').concat(_,'">\n            </td>\n            <td class="actions">\n                <button type="button" class="add button-primary">').concat(v,'</button>\n                <button type="button" class="cancel button">').concat(l,"</button>\n            </td>\n        </tr>\n    ");return h}var Xt=jQuery,Bt=document.querySelector("#acfw_shipping_overrides");function Gt(t){var n=t.shipping_zone,o=t.discount_type,a=t.discount_value,c=t.shipping_method,i=(Xt(Bt).find(".shipping-overrides-table").data("zonemethods")||[]).filter((function(t){return t.zone_id==n}));if(i.length){var d=i[0],l=d.zone_name,s=d.methods.filter((function(t){return t.value==c}));if(s.length)return'\n    <tr>\n        <td class="shipping-zone object" data-object="'.concat(e(JSON.stringify(t)),'">\n            ').concat(l,'\n        </td>\n        <td class="shipping-method">\n            ').concat(s[0].label,'\n        </td>\n        <td class="discount">\n            (').concat(o,") ").concat(a,'\n        </td>\n        <td class="actions">\n            <a class="edit" href="javascript:void(0);">\n                <span class="dashicons dashicons-edit"></span>\n            </a>\n            <a class="remove" href="javascript:void(0);">\n                <span class="dashicons dashicons-no"></span>\n            </a>\n        </td>\n    </tr>\n    ')}}var Lt=jQuery;function Ut(){var t=Lt(this).closest(".acfw-styled-table"),e=t.find("tbody");t.data("exclude");e.find("tr.no-result").remove(),e.append(Rt()),Lt("body").trigger("wc-enhanced-select-init"),function(t){var e=t.find(".select-shipping-zone"),n=e.find("option:first");t.removeClass("fresh"),e.val(n.prop("value")),e.trigger("change")}(t.find("tr.add-edit-form.fresh"))}function Yt(){var t=acfw_edit_coupon.fill_form_propery_error_msg,e=acfw_edit_coupon.shipping_zone_already_added,n=Lt(this).closest("tr"),o=n.closest(".acfw-styled-table"),a=parseInt(n.find(".select-shipping-zone").val()+""),c=n.find(".select-shipping-method").val()+"";a=a>=0&&!isNaN(a)?a:"nozone";var i=o.data("exclude");if(!(a<0)&&c||"nozone"===a&&c)if(i.filter((function(t){return t.zone==a&&t.method==c})).length)vex.dialog.alert(e);else{var d={shipping_zone:a,shipping_method:c,discount_type:n.find(".discount-type").val(),discount_value:n.find(".discount_value").val()};n.replaceWith(Gt(d)),i.push({zone:a,method:c}),o.data("exclude",i),Et(!0)}else vex.dialog.alert(t)}function Zt(){var t=jQuery(this),e=t.closest("tr"),n=t.closest(".acfw-styled-table"),o=n.find("tbody"),a=e.find(".shipping-zone").data("object"),c=n.data("exclude")||[];c=c.filter((function(t){return t.zone!=a.shipping_zone||t.method!=a.shipping_method})),o.find("tr.no-result").remove(),e.replaceWith(Rt(a)),n.data("exclude",c),Lt("body").trigger("wc-enhanced-select-init")}function $t(){var t=jQuery(this),e=t.closest("tr"),n=t.closest("table"),o=e.closest("tbody"),a=e.find("td").length,c=e.find("td.shipping-zone").data("object"),i=n.data("exclude");i=i.filter((function(t){return t.zone!=c.shipping_zone||t.method!=c.shipping_method})),n.data("exclude",i),e.remove(),o.find("tr").length<=0&&o.append(At(a)),Et(!0)}function te(){var t=acfw_edit_coupon.shipping_zone_already_added,e=jQuery(this),n=e.closest("tr"),o=e.closest("table"),a=n.closest("tbody"),c=n.find("td").length,i=n.find("td.shipping-zone").data("object"),d=i.shipping_zone,l=i.shipping_method,s=o.data("exclude");s.filter((function(t){return t.zone==d&&t.method==l})).length?vex.dialog.alert(t):"nozone"===d&&l||d>=0&&l?(s.push({zone:d,method:d}),n.replaceWith(Gt(i)),o.data("exclude",s)):(n.remove(),a.find("tr").length<=0&&a.append(At(c)))}var ee=jQuery,ne=document.querySelector("#acfw_shipping_overrides");function oe(){ee(ne).on("click",".acfw-styled-table tfoot .add-table-row",Ut),ee(ne).on("change","tr.add-edit-form .select-shipping-zone",It),ee(ne).on("click","tr.add-edit-form .actions .add",Yt),ee(ne).on("click","tr .actions .edit",Zt),ee(ne).on("click","tr .actions .remove",$t),ee(ne).on("click","tr.add-edit-form .actions .cancel",te),ee(ne).on("blur",".wc_input_price",n),ee(ne).on("click","#save-shipping-overrides",Mt),ee(ne).on("click","#clear-shipping-overrides",Ft),ee("form#post").on("submit",Ht),ee(ne).css("min-height",ee("#coupon_options ul.coupon_data_tabs").height()+10),function(){var t=ee(ne).find(".shipping-overrides-table"),e=t.find("tbody"),n=t.data("overrides");if(!n.length)return;e.find("tr.no-result").remove(),n.forEach((function(t){e.append(Gt(t))}))}()}var ae=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,a,c=n.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(o=c.next()).done;)i.push(o.value)}catch(t){a={error:t}}finally{try{o&&!o.done&&(n=c.return)&&n.call(c)}finally{if(a)throw a.error}}return i},ce=function(t,e,n){if(n||2===arguments.length)for(var o,a=0,c=e.length;a<c;a++)!o&&a in e||(o||(o=Array.prototype.slice.call(e,0,a)),o[a]=e[a]);return t.concat(o||Array.prototype.slice.call(e))},ie=jQuery;function de(){var t=document.querySelector("#acfw_scheduler");ie(t).on("change acfw_load",'.days-time-fields input[type="checkbox"]',se),ie(t).on("change acfw_load",".days-time-fields input.time-field",re),ie(t).on("change",".days-time-fields input.time-field",ue),ie(t).on("change acfw_load",".acfw-scheduler-section .date-field",pe),ie(t).find('.days-time-fields input[type="checkbox"], .days-time-fields input.time-field').trigger("acfw_load"),ie(t).find(".acfw-scheduler-section .date-field").trigger("acfw_load"),ie(".wrap").on("submit","form#post",le),ie(".days-time-fields input.time-field").flatpickr({allowInput:!0,enableTime:!0,noCalendar:!0,altInput:!0,altFormat:"h:i K",dateFormat:"H:i",onOpen:function(t,e,n){if(""===e){var o=new Date;o.setHours(0),o.setMinutes(0),n.setDate(o),ie(".days-time-fields input.time-field").trigger("change")}}})}function le(t){ie(".days-time-fields input.time-field").hasClass("error")&&(t.preventDefault(),vex.dialog.alert({unsafeMessage:acfw_edit_coupon.invalid_scheduler_time}),ie("#publishing-action .spinner").removeClass("is-active"),ie("#publishing-action #publish").removeClass("disabled"))}function se(){var t=ie(this),e=t.closest(".days-time-field");e.find(".start-time").prop("disabled",!t.is(":checked")||t.is(":disabled")),e.find(".end-time").prop("disabled",!t.is(":checked")||t.is(":disabled"))}function re(){var t=ie(this).closest(".days-time-field"),e=t.find(".start-time"),n=t.find(".end-time"),o=fe(n.val())+1,a=fe(e.val())-1,c=o?_e(o):"",i=a?_e(a):"";e.attr("max",null!=c?c:""),n.attr("min",null!=i?i:"")}function ue(){var t=ie(this).closest(".days-time-field"),e=t.find(".start-time"),n=t.find(".end-time"),o=fe(e.val()),a=fe(n.val());o>=a?e.addClass("error"):e.removeClass("error"),a<=o?n.addClass("error"):n.removeClass("error")}function pe(){var t=ie(this).closest(".options_group"),e=t.find("#_acfw_schedule_start"),n=t.find("#_acfw_schedule_expire"),o=function(t,e){var n=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],o=[];if(!t||!e)return n;for(var a=new Date(t);a<=new Date(e);a.setDate(a.getDate()+1))o.push(n[a.getDay()]);return ce([],ae(new Set(o)),!1)}(e.is(":disabled")?"":e.val(),e.is(":disabled")?"":n.val());["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach((function(t){var e=ie(".".concat(t,"-time-field"));o.includes(t)?e.find('input[type="checkbox"]').prop("disabled",!1).trigger("change"):(e.find('input[type="checkbox"]').prop("disabled",!0),e.find(".time-field").prop("disabled",!0))}))}function fe(t){var e=ae(t.split(":").map((function(t){return parseInt(t)})),2);return 60*e[0]+e[1]}function _e(t){var e=Math.floor(t/60),n=t-60*e;return"".concat(String(e).padStart(2,"0"),":").concat(String(n).padStart(2,"0"))}var ve=jQuery,he=acfw_edit_coupon.bogo_toggle_editing_mode,be=woocommerce_admin_meta_boxes.post_id;function ye(){var t=ve(this),e=t.closest("#acfw_bogo_deals").find(".bogo-auto-add-products-field"),n=e.find("input[type='checkbox']");"specific-products"===t.val()?(n.prop("disabled",!1),e.addClass("show")):(n.prop("disabled",!1),e.removeClass("show"))}function me(){var t=ve(this).find("select#bogo-deals-type"),e=ve(this).find(".bogo-auto-add-products-field input[type='checkbox']");"specific-products"===t.val()&&ve.post(ajaxurl,{action:"acfw_save_bogo_additional_settings",coupon_id:be,auto_add_products:e.is(":checked")?"yes":"no"})}function ge(){var t=ve("#acfw_bogo_deals"),e=t.find("input[name='bogo_type'][value='once']"),n=t.find("input[name='bogo_type'][value='repeat']"),o=t.find("#bogo-condition-type").val(),a=t.find("#bogo-deals-type").val();t.find(".repeat-incompatible").remove(),"any-products"===a&&"any-products"!==o?(e.prop("checked",!0),n.prop("disabled",!0),n.closest(".radio-group-wrap").append('<span class="repeat-incompatible">'.concat(acfw_edit_coupon.repeat_incompatible_notice,"</span>"))):n.prop("disabled",!1)}var we=document.querySelector(".acfw-sort-coupon-priority-field"),xe=jQuery;function je(){var t=xe(this),e=xe(we).find("input#_acfw_coupon_sort_priority"),n=t.val().toString();switch(n){case"0":case"1":case"10":case"30":case"50":case"90":e.hide(),e.val(n);break;default:e.show(),e.val(xe(we).data("value"))}}function ke(){var t=xe(this),e=parseInt(t.val());(isNaN(e)||1>e)&&(vex.dialog.alert(acfw_edit_coupon.coupon_sort_invalid),t.val(""))}var Se=jQuery;function qe(t){var e=jQuery(this),n=e.closest(".inside"),o=Se("select.acfw-allowed-customers");"change"===t.type&&n.find(".save-notice").show(),e.is(":checked")?(n.removeClass("disabled"),o.prop("disabled",!0),o.closest(".options_group").hide()):(n.addClass("disabled"),o.closest(".options_group").show(),o.prop("disabled",!1))}jQuery;var ze=jQuery;function Qe(){var t=ze(this),e=t.closest(".woocommerce_options_panel").find("._acfw_percentage_discount_cap_field");"percent"===t.val()?(e.addClass("show"),e.find("input").prop("disabled",!1)):(e.removeClass("show"),e.find("input").prop("disabled",!0))}var Oe=acfw_edit_coupon.modules;jQuery(document).ready((function(t){var e,n;Oe.indexOf("acfw_cart_conditions_module")>-1&&$(),Oe.indexOf("acfw_add_free_products_module")>-1&&St(),Oe.indexOf("acfw_auto_apply_module")>-1&&(Ot("body").on("change","#customer_email,#acfw_auto_apply_coupon_field,#usage_limit,#usage_limit_per_user,#_acfw_enable_virtual_coupons",Nt),Ot("#customer_email,#acfw_auto_apply_coupon_field").trigger("change")),Oe.indexOf("acfw_shipping_overrides_module")>-1&&oe(),Oe.indexOf("acfw_scheduler_module")>-1&&de(),Oe.indexOf("acfw_bogo_deals_module")>-1&&function(){var t=document.querySelector("#acfw_bogo_deals");ve(t).on("change acfw_load","select#bogo-deals-type",ye),ve(t).on("change acfw_load","select#bogo-condition-type,select#bogo-deals-type",ge),ve(t).on("change acfw_load",".bogo-auto-add-products-field input[type='checkbox']",(function(){return he(!0)})),ve(t).on("save_bogo_deals",me),ve(t).find("select#bogo-deals-type").trigger("acfw_load")}(),Oe.indexOf("acfw_sort_coupons_module")>-1&&(xe(we).on("change","select#_acfw_coupon_sort_select",je),xe(we).on("change","input#_acfw_coupon_sort_priority",ke),xe(we).find("select#_acfw_coupon_sort_select").trigger("change")),Oe.indexOf("acfw_virtual_coupons_module")>-1&&(Se("body").on("change load_virtual_coupon","#_acfw_enable_virtual_coupons",qe),Se("#_acfw_enable_virtual_coupons").trigger("load_virtual_coupon")),e=jQuery("p.acfw_exclude_coupons_field"),n=e.closest(".options_group"),e.insertAfter("p.form-field.individual_use_field"),n.remove(),ze("#woocommerce-coupon-data").on("change acfwp_load","#discount_type",Qe),ze("#discount_type").trigger("acfwp_load")}))})();
//# sourceMappingURL=edit-advanced-coupon.js.map