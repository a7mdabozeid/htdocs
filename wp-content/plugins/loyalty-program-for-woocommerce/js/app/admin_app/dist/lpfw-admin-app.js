!function(){var e={669:function(e,t,n){e.exports=n(609)},448:function(e,t,n){"use strict";var a=n(867),r=n(26),o=n(372),s=n(327),l=n(97),i=n(109),c=n(985),u=n(61);e.exports=function(e){return new Promise((function(t,n){var f=e.data,p=e.headers,m=e.responseType;a.isFormData(f)&&delete p["Content-Type"];var d=new XMLHttpRequest;if(e.auth){var E=e.auth.username||"",y=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";p.Authorization="Basic "+btoa(E+":"+y)}var h=l(e.baseURL,e.url);function w(){if(d){var a="getAllResponseHeaders"in d?i(d.getAllResponseHeaders()):null,o={data:m&&"text"!==m&&"json"!==m?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:a,config:e,request:d};r(t,n,o),d=null}}if(d.open(e.method.toUpperCase(),s(h,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,"onloadend"in d?d.onloadend=w:d.onreadystatechange=function(){d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))&&setTimeout(w)},d.onabort=function(){d&&(n(u("Request aborted",e,"ECONNABORTED",d)),d=null)},d.onerror=function(){n(u("Network Error",e,null,d)),d=null},d.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(u(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",d)),d=null},a.isStandardBrowserEnv()){var v=(e.withCredentials||c(h))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;v&&(p[e.xsrfHeaderName]=v)}"setRequestHeader"in d&&a.forEach(p,(function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete p[t]:d.setRequestHeader(t,e)})),a.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),m&&"json"!==m&&(d.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){d&&(d.abort(),n(e),d=null)})),f||(f=null),d.send(f)}))}},609:function(e,t,n){"use strict";var a=n(867),r=n(849),o=n(321),s=n(185);function l(e){var t=new o(e),n=r(o.prototype.request,t);return a.extend(n,o.prototype,t),a.extend(n,t),n}var i=l(n(655));i.Axios=o,i.create=function(e){return l(s(i.defaults,e))},i.Cancel=n(263),i.CancelToken=n(972),i.isCancel=n(502),i.all=function(e){return Promise.all(e)},i.spread=n(713),i.isAxiosError=n(268),e.exports=i,e.exports.default=i},263:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},972:function(e,t,n){"use strict";var a=n(263);function r(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new a(e),t(n.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var e;return{token:new r((function(t){e=t})),cancel:e}},e.exports=r},502:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},321:function(e,t,n){"use strict";var a=n(867),r=n(327),o=n(782),s=n(572),l=n(185),i=n(875),c=i.validators;function u(e){this.defaults=e,this.interceptors={request:new o,response:new o}}u.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=l(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&i.assertOptions(t,{silentJSONParsing:c.transitional(c.boolean,"1.0.0"),forcedJSONParsing:c.transitional(c.boolean,"1.0.0"),clarifyTimeoutError:c.transitional(c.boolean,"1.0.0")},!1);var n=[],a=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(a=a&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var r,o=[];if(this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)})),!a){var u=[s,void 0];for(Array.prototype.unshift.apply(u,n),u=u.concat(o),r=Promise.resolve(e);u.length;)r=r.then(u.shift(),u.shift());return r}for(var f=e;n.length;){var p=n.shift(),m=n.shift();try{f=p(f)}catch(e){m(e);break}}try{r=s(f)}catch(e){return Promise.reject(e)}for(;o.length;)r=r.then(o.shift(),o.shift());return r},u.prototype.getUri=function(e){return e=l(this.defaults,e),r(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},a.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(l(n||{},{method:e,url:t,data:(n||{}).data}))}})),a.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,a){return this.request(l(a||{},{method:e,url:t,data:n}))}})),e.exports=u},782:function(e,t,n){"use strict";var a=n(867);function r(){this.handlers=[]}r.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){a.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=r},97:function(e,t,n){"use strict";var a=n(793),r=n(303);e.exports=function(e,t){return e&&!a(t)?r(e,t):t}},61:function(e,t,n){"use strict";var a=n(481);e.exports=function(e,t,n,r,o){var s=new Error(e);return a(s,t,n,r,o)}},572:function(e,t,n){"use strict";var a=n(867),r=n(527),o=n(502),s=n(655);function l(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return l(e),e.headers=e.headers||{},e.data=r.call(e,e.data,e.headers,e.transformRequest),e.headers=a.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),a.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return l(e),t.data=r.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(l(e),t&&t.response&&(t.response.data=r.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},481:function(e){"use strict";e.exports=function(e,t,n,a,r){return e.config=t,n&&(e.code=n),e.request=a,e.response=r,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},185:function(e,t,n){"use strict";var a=n(867);e.exports=function(e,t){t=t||{};var n={},r=["url","method","data"],o=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],l=["validateStatus"];function i(e,t){return a.isPlainObject(e)&&a.isPlainObject(t)?a.merge(e,t):a.isPlainObject(t)?a.merge({},t):a.isArray(t)?t.slice():t}function c(r){a.isUndefined(t[r])?a.isUndefined(e[r])||(n[r]=i(void 0,e[r])):n[r]=i(e[r],t[r])}a.forEach(r,(function(e){a.isUndefined(t[e])||(n[e]=i(void 0,t[e]))})),a.forEach(o,c),a.forEach(s,(function(r){a.isUndefined(t[r])?a.isUndefined(e[r])||(n[r]=i(void 0,e[r])):n[r]=i(void 0,t[r])})),a.forEach(l,(function(a){a in t?n[a]=i(e[a],t[a]):a in e&&(n[a]=i(void 0,e[a]))}));var u=r.concat(o).concat(s).concat(l),f=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===u.indexOf(e)}));return a.forEach(f,c),n}},26:function(e,t,n){"use strict";var a=n(61);e.exports=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(a("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},527:function(e,t,n){"use strict";var a=n(867),r=n(655);e.exports=function(e,t,n){var o=this||r;return a.forEach(n,(function(n){e=n.call(o,e,t)})),e}},655:function(e,t,n){"use strict";var a=n(867),r=n(16),o=n(481),s={"Content-Type":"application/x-www-form-urlencoded"};function l(e,t){!a.isUndefined(e)&&a.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var i,c={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(i=n(448)),i),transformRequest:[function(e,t){return r(t,"Accept"),r(t,"Content-Type"),a.isFormData(e)||a.isArrayBuffer(e)||a.isBuffer(e)||a.isStream(e)||a.isFile(e)||a.isBlob(e)?e:a.isArrayBufferView(e)?e.buffer:a.isURLSearchParams(e)?(l(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):a.isObject(e)||t&&"application/json"===t["Content-Type"]?(l(t,"application/json"),function(e,t,n){if(a.isString(e))try{return(t||JSON.parse)(e),a.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,s=!n&&"json"===this.responseType;if(s||r&&a.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(s){if("SyntaxError"===e.name)throw o(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},a.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),a.forEach(["post","put","patch"],(function(e){c.headers[e]=a.merge(s)})),e.exports=c},849:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),a=0;a<n.length;a++)n[a]=arguments[a];return e.apply(t,n)}}},327:function(e,t,n){"use strict";var a=n(867);function r(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(a.isURLSearchParams(t))o=t.toString();else{var s=[];a.forEach(t,(function(e,t){null!=e&&(a.isArray(e)?t+="[]":e=[e],a.forEach(e,(function(e){a.isDate(e)?e=e.toISOString():a.isObject(e)&&(e=JSON.stringify(e)),s.push(r(t)+"="+r(e))})))})),o=s.join("&")}if(o){var l=e.indexOf("#");-1!==l&&(e=e.slice(0,l)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},303:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},372:function(e,t,n){"use strict";var a=n(867);e.exports=a.isStandardBrowserEnv()?{write:function(e,t,n,r,o,s){var l=[];l.push(e+"="+encodeURIComponent(t)),a.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),a.isString(r)&&l.push("path="+r),a.isString(o)&&l.push("domain="+o),!0===s&&l.push("secure"),document.cookie=l.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},793:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},268:function(e){"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},985:function(e,t,n){"use strict";var a=n(867);e.exports=a.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var a=e;return t&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=a.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},16:function(e,t,n){"use strict";var a=n(867);e.exports=function(e,t){a.forEach(e,(function(n,a){a!==t&&a.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[a])}))}},109:function(e,t,n){"use strict";var a=n(867),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,s={};return e?(a.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=a.trim(e.substr(0,o)).toLowerCase(),n=a.trim(e.substr(o+1)),t){if(s[t]&&r.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},713:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},875:function(e,t,n){"use strict";var a=n(593),r={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){r[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={},s=a.version.split(".");function l(e,t){for(var n=t?t.split("."):s,a=e.split("."),r=0;r<3;r++){if(n[r]>a[r])return!0;if(n[r]<a[r])return!1}return!1}r.transitional=function(e,t,n){var r=t&&l(t);function s(e,t){return"[Axios v"+a.version+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,a,l){if(!1===e)throw new Error(s(a," has been removed in "+t));return r&&!o[a]&&(o[a]=!0,console.warn(s(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,a,l)}},e.exports={isOlderVersion:l,assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var a=Object.keys(e),r=a.length;r-- >0;){var o=a[r],s=t[o];if(s){var l=e[o],i=void 0===l||s(l,o,e);if(!0!==i)throw new TypeError("option "+o+" must be "+i)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:r}},867:function(e,t,n){"use strict";var a=n(849),r=Object.prototype.toString;function o(e){return"[object Array]"===r.call(e)}function s(e){return void 0===e}function l(e){return null!==e&&"object"==typeof e}function i(e){if("[object Object]"!==r.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===r.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===r.call(e)},isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:l,isPlainObject:i,isUndefined:s,isDate:function(e){return"[object Date]"===r.call(e)},isFile:function(e){return"[object File]"===r.call(e)},isBlob:function(e){return"[object Blob]"===r.call(e)},isFunction:c,isStream:function(e){return l(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function e(){var t={};function n(n,a){i(t[a])&&i(n)?t[a]=e(t[a],n):i(n)?t[a]=e({},n):o(n)?t[a]=n.slice():t[a]=n}for(var a=0,r=arguments.length;a<r;a++)u(arguments[a],n);return t},extend:function(e,t,n){return u(t,(function(t,r){e[r]=n&&"function"==typeof t?a(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},905:function(){!function(e){!function(t){var n="URLSearchParams"in e,a="Symbol"in e&&"iterator"in Symbol,r="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,s="ArrayBuffer"in e;if(s)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=ArrayBuffer.isView||function(e){return e&&l.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function f(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return a&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function m(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function d(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function E(e){var t=new FileReader,n=d(t);return t.readAsArrayBuffer(e),n}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function h(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:r&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&r&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||i(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r&&(this.blob=function(){var e=m(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?m(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(E)}),this.text=function(){var e,t,n,a=m(this);if(a)return a;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=d(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),a=0;a<t.length;a++)n[a]=String.fromCharCode(t[a]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(e,t){e=c(e),t=u(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},p.prototype.delete=function(e){delete this.map[c(e)]},p.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},p.prototype.set=function(e,t){this.map[c(e)]=u(t)},p.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),f(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),f(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),f(e)},a&&(p.prototype[Symbol.iterator]=p.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(e,t){var n,a,r=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=(n=t.method||this.method||"GET",a=n.toUpperCase(),w.indexOf(a)>-1?a:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function g(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),a=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(a),decodeURIComponent(r))}})),t}function b(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},h.call(v.prototype),h.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},b.error=function(){var e=new b(null,{status:0,statusText:""});return e.type="error",e};var S=[301,302,303,307,308];b.redirect=function(e,t){if(-1===S.indexOf(t))throw new RangeError("Invalid status code");return new b(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function T(e,n){return new Promise((function(a,o){var s=new v(e,n);if(s.signal&&s.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var l=new XMLHttpRequest;function i(){l.abort()}l.onload=function(){var e,t,n={status:l.status,statusText:l.statusText,headers:(e=l.getAllResponseHeaders()||"",t=new p,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),a=n.shift().trim();if(a){var r=n.join(":").trim();t.append(a,r)}})),t)};n.url="responseURL"in l?l.responseURL:n.headers.get("X-Request-URL");var r="response"in l?l.response:l.responseText;a(new b(r,n))},l.onerror=function(){o(new TypeError("Network request failed"))},l.ontimeout=function(){o(new TypeError("Network request failed"))},l.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},l.open(s.method,s.url,!0),"include"===s.credentials?l.withCredentials=!0:"omit"===s.credentials&&(l.withCredentials=!1),"responseType"in l&&r&&(l.responseType="blob"),s.headers.forEach((function(e,t){l.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",i),l.onreadystatechange=function(){4===l.readyState&&s.signal.removeEventListener("abort",i)}),l.send(void 0===s._bodyInit?null:s._bodyInit)}))}T.polyfill=!0,e.fetch||(e.fetch=T,e.Headers=p,e.Request=v,e.Response=b),t.Headers=p,t.Request=v,t.Response=b,t.fetch=T,Object.defineProperty(t,"__esModule",{value:!0})}({})}("undefined"!=typeof self?self:this)},593:function(e){"use strict";e.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,n),o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e;!function(e){e.READ_DASHBOARD_DATA="READ_DASHBOARD_DATA",e.READ_DASHBOARD_HISTORY_DATA="READ_DASHBOARD_HISTORY_DATA",e.SET_DASHBOARD_DATA="SET_DASHBOARD_DATA",e.SET_DASHBOARD_HISTORY_DATA="SET_DASHBOARD_HISTORY_DATA"}(e||(e={}));var t,a=function(t){return{type:e.READ_DASHBOARD_DATA,payload:t}},r=function(t){return{type:e.READ_DASHBOARD_HISTORY_DATA,payload:t}},o=function(t){return{type:e.SET_DASHBOARD_DATA,payload:t}},s=function(t){return{type:e.SET_DASHBOARD_HISTORY_DATA,payload:t}},l=function(){return l=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},l.apply(this,arguments)},i=function(t,n){switch(void 0===t&&(t=null),n.type){case e.SET_DASHBOARD_DATA:var a=n.payload.data;return l(l({},t),a);case e.SET_DASHBOARD_HISTORY_DATA:a=n.payload.data;return l(l({},t),{history:a});default:return t}};!function(e){e.READ_SECTIONS="READ_SECTIONS",e.READ_SECTION="READ_SECTION",e.SET_STORE_SECTIONS="SET_STORE_SECTIONS",e.SET_STORE_SECTION="SET_STORE_SECTION"}(t||(t={}));var c,u=function(e){return{type:t.READ_SECTIONS,payload:e}},f=function(e){return{type:t.READ_SECTION,payload:e}},p=function(e){return{type:t.SET_STORE_SECTIONS,payload:e}},m=function(e){return{type:t.SET_STORE_SECTION,payload:e}},d=function(){return d=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},d.apply(this,arguments)},E=acfwpElements.lodash.cloneDeep,y=function(e,n){switch(void 0===e&&(e=[]),n.type){case t.SET_STORE_SECTIONS:return n.payload.data;case t.SET_STORE_SECTION:var a=n.payload.data,r=e.findIndex((function(e){return e.id===a.id}));if(r<0)return e;var o=E(e);return o[r]=d(d({},o[r]),a),o;default:return e}};!function(e){e.CREATE_SETTING="CREATE_SETTING",e.UPDATE_SETTING="UPDATE_SETTING",e.DELETE_SETTING="DELETE_SETTING",e.READ_SETTINGS="READ_SETTINGS",e.REHYDRATE_STORE_SETTINGS="REHYDRATE_STORE_SETTINGS",e.REHYDRATE_STORE_SETTING="REHYDRATE_STORE_SETTING",e.SET_STORE_SETTINGS="SET_STORE_SETTINGS",e.SET_STORE_SETTING="SET_STORE_SETTING"}(c||(c={}));var h,w=function(e){return{type:c.UPDATE_SETTING,payload:e}},v=function(e){return{type:c.REHYDRATE_STORE_SETTINGS,payload:e}},g=function(e){return{type:c.REHYDRATE_STORE_SETTING,payload:e}},b=function(e){return{type:c.SET_STORE_SETTINGS,payload:e}},S=function(e){return{type:c.SET_STORE_SETTING,payload:e}},T=function(){return T=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},T.apply(this,arguments)},_=acfwpElements.lodash.cloneDeep,O=function(e,t){switch(void 0===e&&(e=[]),t.type){case c.SET_STORE_SETTINGS:for(var n=t.payload.data,a=_(e),r=function(t){var n=e.findIndex((function(e){return e.id===t.id}));a[n]?a[n]=t:a.push(t)},o=0,s=n;o<s.length;o++){r(s[o])}return a;case c.SET_STORE_SETTING:var l=t.payload.data,i=e.findIndex((function(e){return e.id===l.id}));return i<0?e:((a=_(e))[i]=T(T({},a[i]),l),a);default:return e}};!function(e){e.READ_CUSTOMERS="READ_CUSTOMERS",e.READ_SINGLE_CUSTOMER="READ_SINGLE_CUSTOMER",e.READ_CUSTOMER_STATUS="READ_CUSTOMER_STATUS",e.READ_CUSTOMER_HISTORY="READ_CUSTOMER_HISTORY",e.ADJUST_CUSTOMER_POINTS="ADJUST_CUSTOMER_POINTS",e.SET_STORE_CUSTOMERS="SET_STORE_CUSTOMERS",e.SET_SINGLE_CUSTOMER="SET_SINGLE_CUSTOMER",e.SET_STORE_CUSTOMER_STATUS="SET_STORE_CUSTOMER_STATUS",e.SET_STORE_CUSTOMER_SOURCES="SET_STORE_CUSTOMER_SOURCES",e.SET_STORE_HISTORY_ENTRIES="SET_STORE_HISTORY_ENTRIES",e.SET_STORE_HISTORY_ENTRY="SET_STORE_HISTORY_ENTRY"}(h||(h={}));var A,C=function(e){return{type:h.READ_CUSTOMERS,payload:e}},x=function(e){return{type:h.READ_SINGLE_CUSTOMER,payload:e}},R=function(e){return{type:h.READ_CUSTOMER_STATUS,payload:e}},I=function(e){return{type:h.READ_CUSTOMER_HISTORY,payload:e}},k=function(e){return{type:h.ADJUST_CUSTOMER_POINTS,payload:e}},D=function(e){return{type:h.SET_STORE_CUSTOMERS,payload:e}},N=function(e){return{type:h.SET_SINGLE_CUSTOMER,payload:e}},B=function(e){return{type:h.SET_STORE_CUSTOMER_STATUS,payload:e}},U=function(e){return{type:h.SET_STORE_CUSTOMER_SOURCES,payload:e}},j=function(e){return{type:h.SET_STORE_HISTORY_ENTRIES,payload:e}},P=function(){return P=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},P.apply(this,arguments)},L=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},M=(acfwpElements.lodash.cloneDeep,function(e,t){var n,a,r;switch(void 0===e&&(e=[]),t.type){case h.SET_STORE_CUSTOMERS:return i=t.payload.data;case h.SET_SINGLE_CUSTOMER:var o=t.payload.data;return(r=e.findIndex((function(e){return e.id===o.id})))>=0?(e[r]=o,L([],e,!0)):L([o],e,!0);case h.SET_STORE_CUSTOMER_STATUS:var s=t.payload,l=s.id,i=s.data;return r=e.findIndex((function(e){return e.id===l})),e[r]=P(P({},e[r]),{status:i}),L([],e,!0);case h.SET_STORE_CUSTOMER_SOURCES:var c=t.payload,u=c.id;i=c.data;return r=e.findIndex((function(e){return e.id===u})),e[r]=P(P({},e[r]),{sources:i}),L([],e,!0);case h.SET_STORE_HISTORY_ENTRIES:var f=t.payload,p=f.id;i=f.data;return r=e.findIndex((function(e){return e.id===p})),e[r]=P(P({},e[r]),{history:i}),L([],e,!0);case h.SET_STORE_HISTORY_ENTRY:var m=t.payload,d=m.id;i=m.data;r=e.findIndex((function(e){return e.id===d}));var E=null!==(a=null===(n=e[r])||void 0===n?void 0:n.history)&&void 0!==a?a:[];return e[r]=P(P({},e[r]),{history:L(L([],E,!0),[i],!1)}),L([],e,!0);default:return e}});!function(e){e.READ_LICENSE="READ_LICENSE",e.ACTIVATE_LICENSE="ACTIVATE_LICENSE",e.SET_LICENSE="SET_LICENSE"}(A||(A={}));var H=function(e){return{type:A.READ_LICENSE,payload:e}},Y=function(e){return{type:A.ACTIVATE_LICENSE,payload:e}},V=function(e){return{type:A.SET_LICENSE,payload:e}},G=function(e,t){return void 0===e&&(e=null),t.type===A.SET_LICENSE?t.payload.data:e},F=(n(905),function(e,t){var n,a,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,a=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}),q=acfwpElements.axiosInstance,J=acfwpElements.redux.sagaEffects,z=J.put,X=J.call,K=J.takeEvery;var Q=[K(e.READ_DASHBOARD_DATA,(function(e){var t,n,a,r,s,l;return F(this,(function(i){switch(i.label){case 0:t=e.payload,n=t.processingCB,a=t.successCB,r=t.failCB,i.label=1;case 1:return i.trys.push([1,5,,6]),"function"==typeof n&&n(),[4,X((function(){return q.get("loyalty-program/v1/dashboard")}))];case 2:return(s=i.sent())&&s.data&&z?[4,z(o({data:s.data}))]:[3,4];case 3:i.sent(),"function"==typeof a&&a(s),i.label=4;case 4:return[3,6];case 5:return l=i.sent(),"function"==typeof r&&r({error:l}),[3,6];case 6:return[2]}}))})),K(e.READ_DASHBOARD_HISTORY_DATA,(function(e){var t,n,a,r,o,l,i,c,u;return F(this,(function(f){switch(f.label){case 0:t=e.payload,n=t.page,a=t.before_date,r=t.after_date,o=t.processingCB,l=t.successCB,i=t.failCB,f.label=1;case 1:return f.trys.push([1,5,,6]),"function"==typeof o&&o(),[4,X((function(){return q.get("loyalty-program/v1/dashboard/history",{params:{page:n,before_date:a,after_date:r}})}))];case 2:return(c=f.sent())&&c.data&&z?[4,z(s({data:c.data}))]:[3,4];case 3:f.sent(),"function"==typeof l&&l(c),f.label=4;case 4:return[3,6];case 5:return u=f.sent(),"function"==typeof i&&i({error:u}),[3,6];case 6:return[2]}}))}))],W=function(e,t){var n,a,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,a=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},$=acfwpElements.redux.sagaEffects,Z=acfwpElements.axiosInstance,ee=$.put,te=$.call,ne=$.takeEvery;var ae=[ne(t.READ_SECTIONS,(function(e){var t,n,a,r,o,s,l,i,c;return W(this,(function(u){switch(u.label){case 0:t=e.payload,n=t.id,a=t.processingCB,r=t.successCB,o=t.failCB,s=n||"general",u.label=1;case 1:return u.trys.push([1,6,,7]),"function"==typeof a&&a(),Z.defaults.headers.section=s,[4,te((function(){return Z.get("loyalty-program/v1/settings/sections")}))];case 2:return(l=u.sent())&&l.data?(i=s?l.data.findIndex((function(e){return e.id===s})):0,[4,ee(v({data:l.data[i]}))]):[3,5];case 3:return u.sent(),[4,ee(p({data:l.data}))];case 4:u.sent(),"function"==typeof r&&r(l),u.label=5;case 5:return[3,7];case 6:return c=u.sent(),"function"==typeof o&&o({error:c}),[3,7];case 7:return[2]}}))})),ne(t.READ_SECTION,(function(e){var t,n,a,r,o,s,l,i;return W(this,(function(c){switch(c.label){case 0:t=e.payload,n=t.id,a=t.processingCB,r=t.successCB,o=t.failCB,c.label=1;case 1:return c.trys.push([1,6,,7]),"function"==typeof a&&a(),s=n||"general",[4,te((function(){return Z.get("loyalty-program/v1/settings/sections/".concat(s))}))];case 2:return(l=c.sent())&&l.data?[4,ee(v({data:l.data}))]:[3,5];case 3:return c.sent(),[4,ee(m({data:l.data}))];case 4:c.sent(),"function"==typeof r&&r(l),c.label=5;case 5:return[3,7];case 6:return i=c.sent(),"function"==typeof o&&o({error:i}),[3,7];case 7:return[2]}}))}))],re=n(669),oe=n.n(re),se=oe().CancelToken,le=oe().create({baseURL:wpApiSettings.root,timeout:3e4,headers:{"X-WP-Nonce":wpApiSettings.nonce}}),ie=new Map,ce=function(e){return new se((function(t){return ie.set(e,t)}))},ue=function(e,t){var n,a,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,a=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},fe=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},pe=acfwpElements.redux.sagaEffects,me=pe.put,de=pe.call,Ee=pe.takeEvery;var ye=[Ee(c.CREATE_SETTING,(function(e){var t,n,a,r,o,s,l;return ue(this,(function(i){switch(i.label){case 0:t=e.payload,n=t.data,a=t.processingCB,r=t.successCB,o=t.failCB,i.label=1;case 1:return i.trys.push([1,5,,6]),"function"==typeof a&&a(),[4,de((function(){return le.post("loyalty-program/v1/setting/sections",n)}))];case 2:return(s=i.sent())&&s.data?[4,me(v({}))]:[3,4];case 3:i.sent(),"function"==typeof r&&r(s),i.label=4;case 4:return[3,6];case 5:return l=i.sent(),"function"==typeof o&&o({error:l,payload:n}),[3,6];case 6:return[2]}}))})),Ee(c.UPDATE_SETTING,(function(e){var t,n,a,r,o,s,l;return ue(this,(function(i){switch(i.label){case 0:t=e.payload,n=t.data,a=t.processingCB,r=t.successCB,o=t.failCB,i.label=1;case 1:if(i.trys.push([1,5,,6]),"function"==typeof a&&a(),!n.id)throw new Error("Can't update setting. No setting id provided.");return[4,de((function(){var e=n.id,t=fe(n,["id"]);return le.put("loyalty-program/v1/settings/".concat(e),t,{cancelToken:ce(e)})}))];case 2:return(s=i.sent())&&s.data?[4,me(g({id:s.data.id,data:s.data}))]:[3,4];case 3:i.sent(),"function"==typeof r&&r(s),i.label=4;case 4:return[3,6];case 5:return l=i.sent(),oe().isCancel(l)?[2]:("function"==typeof o&&o({error:l,payload:n}),[3,6]);case 6:return[2]}}))})),Ee(c.DELETE_SETTING,(function(e){var t,n,a,r,o,s,l;return ue(this,(function(i){switch(i.label){case 0:t=e.payload,n=t.id,a=t.processingCB,r=t.successCB,o=t.failCB,i.label=1;case 1:return i.trys.push([1,5,,6]),"function"==typeof a&&a(),[4,de((function(){return le.delete("loyalty-program/v1/settings/".concat(n))}))];case 2:return(s=i.sent())&&s.data?[4,me(v({}))]:[3,4];case 3:i.sent(),"function"==typeof r&&r(s),i.label=4;case 4:return[3,6];case 5:return l=i.sent(),"function"==typeof o&&o({error:l}),[3,6];case 6:return[2]}}))})),Ee(c.READ_SETTINGS,(function(e){var t,n,a,r,o,s;return ue(this,(function(l){switch(l.label){case 0:t=e.payload,n=t.processingCB,a=t.successCB,r=t.failCB,l.label=1;case 1:return l.trys.push([1,5,,6]),"function"==typeof n&&n(),[4,de((function(){return le.get("loyalty-program/v1/settings/")}))];case 2:return(o=l.sent())&&o.data?[4,me(v({data:o.data}))]:[3,4];case 3:l.sent(),"function"==typeof a&&a(o),l.label=4;case 4:return[3,6];case 5:return s=l.sent(),"function"==typeof r&&r({error:s}),[3,6];case 6:return[2]}}))})),Ee(c.REHYDRATE_STORE_SETTINGS,(function(e){var t,n,a,r,o,s,l;return ue(this,(function(i){switch(i.label){case 0:t=e.payload,n=t.data,a=t.processingCB,r=t.successCB,o=t.failCB,i.label=1;case 1:return i.trys.push([1,4,,5]),"function"==typeof a&&a(),n?(s=n.fields.filter((function(e){return"title"!==e.type&&"sectionend"!==e.type})).map((function(e){return{id:e.id,value:e.value}})),[4,me(b({data:s}))]):[3,3];case 2:i.sent(),"function"==typeof r&&r(s),i.label=3;case 3:return[3,5];case 4:return l=i.sent(),"function"==typeof o&&o({error:l}),[3,5];case 5:return[2]}}))})),Ee(c.REHYDRATE_STORE_SETTING,(function(e){var t,n,a,r,o,s,l,i;return ue(this,(function(c){switch(c.label){case 0:t=e.payload,n=t.id,a=t.data,r=t.processingCB,o=t.successCB,s=t.failCB,c.label=1;case 1:return c.trys.push([1,8,,9]),"function"==typeof r&&r(),a?[3,5]:[4,de((function(){return le.get("loyalty-program/v1/settings/".concat(n))}))];case 2:return(l=c.sent())&&l.data?[4,me(S({data:l.data}))]:[3,4];case 3:c.sent(),"function"==typeof o&&o(l),c.label=4;case 4:return[3,7];case 5:return[4,me(S({data:a}))];case 6:c.sent(),"function"==typeof o&&o(a),c.label=7;case 7:return[3,9];case 8:return i=c.sent(),"function"==typeof s&&s({error:i}),[3,9];case 9:return[2]}}))}))],he=function(e,t){var n,a,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,a=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},we=acfwpElements.axiosInstance,ve=acfwpElements.redux.sagaEffects,ge=ve.put,be=ve.call,Se=ve.takeEvery;var Te=[Se(h.READ_CUSTOMERS,(function(e){var t,n,a,r,o,s,l,i;return he(this,(function(c){switch(c.label){case 0:t=e.payload,n=t.params,a=t.processingCB,r=t.successCB,o=t.failCB,s=t.alwaysCB,c.label=1;case 1:return c.trys.push([1,5,,6]),"function"==typeof a&&a(),[4,be((function(){return we.get("loyalty-program/v1/customers",{params:n})}))];case 2:return(l=c.sent())&&l.data?[4,ge(D({data:l.data}))]:[3,4];case 3:c.sent(),"function"==typeof r&&r(l),c.label=4;case 4:return[3,6];case 5:return i=c.sent(),"function"==typeof o&&o({error:i}),[3,6];case 6:return"function"==typeof s&&s(),[2]}}))})),Se(h.READ_SINGLE_CUSTOMER,(function(e){var t,n,a,r,o,s,l,i;return he(this,(function(c){switch(c.label){case 0:t=e.payload,n=t.id,a=t.processingCB,r=t.successCB,o=t.failCB,s=t.alwaysCB,c.label=1;case 1:return c.trys.push([1,5,,6]),"function"==typeof a&&a(),[4,be((function(){return we.get("loyalty-program/v1/customers/".concat(n))}))];case 2:return(l=c.sent())&&l.data?[4,ge(N({data:l.data}))]:[3,4];case 3:c.sent(),"function"==typeof r&&r(l),c.label=4;case 4:return[3,6];case 5:return i=c.sent(),"function"==typeof o&&o({error:i}),[3,6];case 6:return"function"==typeof s&&s(),[2]}}))})),Se(h.READ_CUSTOMER_STATUS,(function(e){var t,n,a,r,o,s,l,i;return he(this,(function(c){switch(c.label){case 0:t=e.payload,n=t.id,a=t.processingCB,r=t.successCB,o=t.failCB,s=t.alwaysCB,c.label=1;case 1:return c.trys.push([1,6,,7]),"function"==typeof a&&a(),[4,be((function(){return we.get("loyalty-program/v1/customers/status/".concat(n))}))];case 2:return(l=c.sent())&&l.data&&ge?[4,ge(B({id:n,data:l.data.status}))]:[3,5];case 3:return c.sent(),[4,ge(U({id:n,data:l.data.sources}))];case 4:c.sent(),"function"==typeof r&&r(l),c.label=5;case 5:return[3,7];case 6:return i=c.sent(),"function"==typeof o&&o({error:i}),[3,7];case 7:return"function"==typeof s&&s(),[2]}}))})),Se(h.READ_CUSTOMER_HISTORY,(function(e){var t,n,a,r,o,s,l,i,c;return he(this,(function(u){switch(u.label){case 0:t=e.payload,n=t.id,a=t.page,r=t.processingCB,o=t.successCB,s=t.failCB,l=t.alwaysCB,u.label=1;case 1:return u.trys.push([1,5,,6]),"function"==typeof r&&r(),[4,be((function(){return we.get("loyalty-program/v1/customers/history/".concat(n),{params:{page:a}})}))];case 2:return(i=u.sent())&&i.data&&ge?[4,ge(j({id:n,data:i.data}))]:[3,4];case 3:u.sent(),"function"==typeof o&&o(i),u.label=4;case 4:return[3,6];case 5:return c=u.sent(),"function"==typeof s&&s({error:c}),[3,6];case 6:return"function"==typeof l&&l(),[2]}}))})),Se(h.ADJUST_CUSTOMER_POINTS,(function(e){var t,n,a,r,o,s,l,i,c,u;return he(this,(function(f){switch(f.label){case 0:t=e.payload,n=t.id,a=t.type,r=t.points,o=t.processingCB,s=t.successCB,l=t.failCB,i=t.alwaysCB,f.label=1;case 1:return f.trys.push([1,3,,4]),"function"==typeof o&&o(),[4,be((function(){return we.post("loyalty-program/v1/customers/points/".concat(n),{id:n,type:a,points:r})}))];case 2:return(c=f.sent())&&c.data&&ge&&"function"==typeof s&&s(c),[3,4];case 3:return u=f.sent(),"function"==typeof l&&l({error:u}),[3,4];case 4:return"function"==typeof i&&i(),[2]}}))}))],_e=function(e,t){var n,a,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,a=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},Oe=acfwpElements.axiosInstance,Ae=acfwpElements.redux.sagaEffects,Ce=Ae.put,xe=Ae.call,Re=Ae.takeEvery;var Ie=[Re(A.READ_LICENSE,(function(e){var t,n,a,r,o,s,l,i,c;return _e(this,(function(u){switch(u.label){case 0:t=e.payload,n=t.processingCB,a=t.successCB,r=t.failCB,o=t.alwaysCB,u.label=1;case 1:return u.trys.push([1,5,,6]),"function"==typeof n&&n(),[4,xe((function(){return Oe({url:ajaxurl,baseURL:window.location.origin.toString(),params:{action:"lpfw_get_license_details"}})}))];case 2:return(s=u.sent())&&s.data&&Ce?[4,Ce(V({data:{key:null!==(i=s.data.license_key)&&void 0!==i?i:"",email:null!==(c=s.data.email)&&void 0!==c?c:"",is_active:s.data.is_active}}))]:[3,4];case 3:u.sent(),"function"==typeof a&&a(s),u.label=4;case 4:return[3,6];case 5:return l=u.sent(),"function"==typeof r&&r({error:l}),[3,6];case 6:return"function"==typeof o&&o(),[2]}}))})),Re(A.ACTIVATE_LICENSE,(function(e){var t,n,a,r,o,s,l,i,c,u,f;return _e(this,(function(p){switch(p.label){case 0:t=e.payload,n=t.license_key,a=t.email,r=t.processingCB,o=t.successCB,s=t.failCB,l=t.alwaysCB,p.label=1;case 1:return p.trys.push([1,5,,6]),"function"==typeof r&&r(),i=acfwAdminApp.loyalty_program.license._formNonce,(c=new FormData).append("action","lpfw_activate_license"),c.append("activation-email",a),c.append("license-key",n),c.append("ajax-nonce",i),[4,xe((function(){return Oe({url:ajaxurl,method:"POST",baseURL:window.location.origin.toString(),data:c})}))];case 2:return(u=p.sent())&&u.data&&Ce?[4,Ce(V({data:{key:n,email:a,is_active:"success"===u.data.status?"yes":"no"}}))]:[3,4];case 3:p.sent(),"function"==typeof o&&o(u),p.label=4;case 4:return[3,6];case 5:return f=p.sent(),"function"==typeof s&&s({error:f}),[3,6];case 6:return"function"==typeof l&&l(),[2]}}))}))],ke=function(e,t){var n,a,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,a=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},De=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},Ne=acfwpElements.redux.sagaEffects.all;function Be(){return ke(this,(function(e){switch(e.label){case 0:return[4,Ne(De(De(De(De(De([],Q,!0),ae,!0),ye,!0),Te,!0),Ie,!0))];case 1:return e.sent(),[2]}}))}var Ue=acfwpElements.redux,je=Ue.sagaEffects,Pe=Ue.createStore,Le=Ue.combineReducers,Me=Ue.applyMiddleware,He=Ue.createSagaMiddleware;je.all;var Ye=function(){return Ye=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Ye.apply(this,arguments)},Ve=acfwpElements.element,Ge=Ve.createContext,Fe=Ve.useReducer,qe=function(e,t){switch(t.type){case"SET_PAGE":return Ye(Ye({},e),{page:t.value});case"SET_PER_PAGE":return Ye(Ye({},e),{per_page:t.value});case"SET_SEARCH":return Ye(Ye({},e),{search:t.value,page:1});case"SET_SORT_BY":return Ye(Ye({},e),{sort_by:t.value});case"SET_SORT_ORDER":return Ye(Ye({},e),{sort_order:t.value});case"SET_QUERY":return t.value}return e},Je=Ge({params:{page:1},dispatchParams:function(e){}}),ze=function(e){var t=e.children,n=Fe(qe,{page:1}),a=n[0],r=n[1];return acfwpElements.element.createElement(Je.Provider,{value:{params:a,dispatchParams:r}},t)},Xe=acfwpElements.element,Ke=Xe.useState,Qe=Xe.useEffect,We=acfwpElements.antd.Table,$e=acfwpElements.redux,Ze=$e.bindActionCreators,et=$e.connect,tt=et((function(e){var t;return{status:null===(t=e.dashboard)||void 0===t?void 0:t.status}}),(function(e){return{actions:Ze({},e)}}))((function(e){var t=e.status,n=acfwAdminApp.loyalty_program.labels,a=n.information,r=n.points,o=n.value,s=Ke(!0),l=s[0],i=s[1],c=[{title:a,dataIndex:"label",key:"label"},{title:r,dataIndex:"points",key:"points"},{title:o,dataIndex:"value",key:"value"}];return Qe((function(){t&&t.length&&i(!1)}),[t,i]),acfwpElements.element.createElement(We,{loading:l,pagination:!1,dataSource:t,columns:c})})),nt=acfwpElements.element,at=nt.useState,rt=nt.useEffect,ot=acfwpElements.antd.Table,st=acfwpElements.redux,lt=st.bindActionCreators,it=(0,st.connect)((function(e){var t;return{sources:null===(t=e.dashboard)||void 0===t?void 0:t.sources}}),(function(e){return{actions:lt({},e)}}))((function(e){var t=e.sources,n=acfwAdminApp.loyalty_program.labels,a=at(!0),r=a[0],o=a[1],s=[{title:n.source,dataIndex:"label",key:"label"},{title:n.points,dataIndex:"points",key:"points"}];return rt((function(){t&&t.length&&o(!1)}),[t,o]),acfwpElements.element.createElement(ot,{loading:r,pagination:!1,dataSource:t,columns:s})})),ct=acfwpElements.element,ut=ct.useState,ft=ct.useEffect,pt=acfwpElements.router.Link,mt=acfwpElements.antd.Table,dt=acfwpElements.redux.connect,Et=acfwpElements.pathPrefix,yt=dt((function(e){var t;return{customers:null===(t=e.dashboard)||void 0===t?void 0:t.customers}}),null)((function(e){var t=e.customers,n=acfwAdminApp.loyalty_program.labels,a=ut(!0),r=a[0],o=a[1],s=[{title:n.customer,dataIndex:"name",key:"name",render:function(e,t){return acfwpElements.element.createElement(pt,{to:"".concat(Et,"admin.php?page=acfw-loyalty-program&tab=customers&customer=").concat(t.id)},e)}},{title:n.points,dataIndex:"points",key:"points"}];return ft((function(){Array.isArray(t)&&o(!1)}),[t,o]),acfwpElements.element.createElement(mt,{loading:r,pagination:!1,dataSource:t,columns:s})})),ht=acfwpElements.element,wt=ht.useState,vt=ht.useEffect,gt=acfwpElements.router.Link,bt=acfwpElements.antd,St=bt.Card,Tt=bt.Select,_t=bt.DatePicker,Ot=bt.Table,At=bt.Pagination,Ct=acfwpElements.redux,xt=Ct.bindActionCreators,Rt=Ct.connect,It=acfwpElements.pathPrefix,kt=r,Dt=Rt((function(e){var t;return{entries:null===(t=e.dashboard)||void 0===t?void 0:t.history}}),(function(e){return{actions:xt({readDashboardHistoryData:kt},e)}}))((function(e){var t=e.entries,n=e.actions,a=acfwAdminApp.loyalty_program,r=a.labels,o=a.period_options,s=wt(1),l=s[0],i=s[1],c=wt("month_to_date"),u=c[0],f=c[1],p=wt(moment().startOf("month")),m=p[0],d=p[1],E=wt(moment().startOf("day")),y=E[0],h=E[1],w=wt(""),v=w[0],g=w[1],b=wt(!0),S=b[0],T=b[1];vt((function(){T(!0),n.readDashboardHistoryData({page:l,before_date:m.format("YYYY-MM-DD"),after_date:y.format("YYYY-MM-DD"),successCB:function(e){g(e.headers["x-total"]),T(!1)}})}),[l,m,y]),vt((function(){t&&t.length&&T(!1)}),[t,T]);var _=[{title:r.date,dataIndex:"date",key:"date"},{title:r.customer,dataIndex:"user_id",key:"user_id",render:function(e,t){return acfwpElements.element.createElement(gt,{to:"".concat(It,"admin.php?page=acfw-loyalty-program&tab=customers&customer=").concat(e)},t.customer_name)}},{title:r.activity,dataIndex:"activity",key:"activity"},{title:r.points,dataIndex:"points",key:"points"},{title:r.related,dataIndex:"rel_label",key:"rel_label",render:function(e,t){return t.rel_link?acfwpElements.element.createElement("a",{href:t.rel_link,target:"_blank"},e):e}}];return acfwpElements.element.createElement(St,{className:"lpfw-dashboard-history",title:r.points_history,extra:acfwpElements.element.createElement("div",{className:"lpfw-dashboard-period-selector"},acfwpElements.element.createElement(Tt,{value:u,onSelect:function(e){switch(f(e),e){case"week_to_date":d(moment().startOf("week")),h(moment().startOf("day"));break;case"month_to_date":d(moment().startOf("month")),h(moment().startOf("day"));break;case"quarter_to_date":d(moment().startOf("quarter")),h(moment().startOf("day"));break;case"year_to_date":d(moment().startOf("year")),h(moment().startOf("day"));break;case"last_week":d(moment().subtract(1,"weeks").startOf("week")),h(moment().subtract(1,"weeks").endOf("week"));break;case"last_month":d(moment().subtract(1,"months").startOf("month")),h(moment().subtract(1,"months").endOf("month"));break;case"last_quarter":d(moment().subtract(1,"quarters").startOf("quarter")),h(moment().subtract(1,"quarters").endOf("quarter"));break;case"last_year":d(moment().subtract(1,"years").startOf("year")),h(moment().subtract(1,"years").endOf("year"))}}},o.map((function(e){return acfwpElements.element.createElement(Tt.Option,{value:e.value},e.label)}))),acfwpElements.element.createElement(_t.RangePicker,{value:[m,y],onChange:function(e){d(e[0]),h(e[1]),f("custom")}}))},acfwpElements.element.createElement(Ot,{loading:S,pagination:!1,dataSource:t,columns:_}),v>10&&acfwpElements.element.createElement(At,{disabled:S,current:l,total:v,onChange:i,showSizeChanger:!1}))})),Nt=acfwpElements.element,Bt=Nt.Fragment,Ut=Nt.useEffect,jt=acfwpElements.redux,Pt=jt.bindActionCreators,Lt=jt.connect,Mt=acfwpElements.antd,Ht=Mt.Row,Yt=Mt.Col,Vt=Mt.Card,Gt=a,Ft=Lt((function(e){return{dashboard:e.dashboard}}),(function(e){return{actions:Pt({readDashboardData:Gt},e)}}))((function(e){var t=e.dashboard,n=e.actions,a=acfwAdminApp.loyalty_program.labels,r=a.points_status,o=a.points_sources,s=a.top_customers;a.points_history;return Ut((function(){t||n.readDashboardData({})}),[]),acfwpElements.element.createElement(Bt,null,acfwpElements.element.createElement(Ht,{className:"lpfw-dashboard",gutter:20},acfwpElements.element.createElement(Yt,{span:8},acfwpElements.element.createElement(Vt,{title:r},acfwpElements.element.createElement(tt,null))),acfwpElements.element.createElement(Yt,{span:8},acfwpElements.element.createElement(Vt,{title:o},acfwpElements.element.createElement(it,null))),acfwpElements.element.createElement(Yt,{span:8},acfwpElements.element.createElement(Vt,{title:s},acfwpElements.element.createElement(yt,null))),acfwpElements.element.createElement(Yt,{span:24},acfwpElements.element.createElement(Dt,null))))})),qt=acfwpElements.element,Jt=qt.useState,zt=qt.useEffect,Xt=qt.useContext,Kt=acfwpElements.antd,Qt=Kt.Card,Wt=Kt.Table,$t=Kt.Pagination,Zt=Kt.Input,en=acfwpElements.redux,tn=en.bindActionCreators,nn=en.connect,an=acfwpElements.router.useHistory,rn=acfwpElements.pathPrefix,on=C,sn=nn((function(e){return{customers:e.customers}}),(function(e){return{actions:tn({readCustomers:on},e)}}))((function(e){var t,n=e.customers,a=e.actions,r=acfwAdminApp.loyalty_program.labels,o=Xt(Je),s=o.params,l=o.dispatchParams,i=Jt(!1),c=i[0],u=i[1],f=Jt(0),p=f[0],m=f[1],d=Jt(s.search),E=d[0],y=d[1],h=Jt(null),w=h[0],v=h[1],g=an(),b=[{title:r.customer_name,dataIndex:"name",key:"name"},{title:r.email,dataIndex:"email",key:"email"},{title:r.points,dataIndex:"points",key:"points"},{title:r.points_expiry,dataIndex:"expiry",key:"expiry"}];return zt((function(){u(!0),a.readCustomers({params:s,successCB:function(e){m(e.headers["x-total"]),u(!1)}})}),[s]),acfwpElements.element.createElement(Qt,{title:"Customers List",className:"lpfw-customers-list"},acfwpElements.element.createElement("div",{className:"customer-search"},acfwpElements.element.createElement("label",null,r.search_customers),acfwpElements.element.createElement(Zt.Search,{allowClear:!0,value:E,onChange:function(e){return t=e.target.value,y(t),w&&clearTimeout(w),void v(setTimeout((function(){return l({type:"SET_SEARCH",value:t})}),1e3));var t},placeholder:r.name_or_email})),acfwpElements.element.createElement(Wt,{className:"customers-list-table",loading:c,pagination:!1,dataSource:n,columns:b,onRow:function(e){return{onClick:function(){return t=e,void g.push("".concat(rn,"admin.php?page=acfw-loyalty-program&tab=customers&customer=").concat(t.id));var t}}}}),0<p&&acfwpElements.element.createElement($t,{defaultContent:s.page,current:s.page,hideOnSinglePage:!0,disabled:c,total:p,pageSize:null!==(t=s.per_page)&&void 0!==t?t:10,showSizeChanger:!1,onChange:function(e){l({type:"SET_PAGE",value:e})}}))})),ln=acfwpElements.element,cn=ln.useState,un=(ln.useEffect,acfwpElements.antd),fn=un.Card,pn=un.Form,mn=un.Input,dn=un.Select,En=un.Button,yn=un.Popconfirm,hn=un.message,wn=acfwpElements.antdIcons.QuestionCircleOutlined,vn=acfwpElements.redux,gn=vn.bindActionCreators,bn=vn.connect,Sn=(dn.Option,k),Tn=B,_n=U,On=bn(null,(function(e){return{actions:gn({adjustCustomerPoints:Sn,setStoreCustomerStatus:Tn,setStoreCustomerSources:_n},e)}}))((function(e){var t=e.customer,n=e.actions,a=acfwAdminApp.loyalty_program.labels,r=pn.useForm()[0],o=cn(!1),s=o[0],l=o[1],i=cn(!1),c=i[0],u=i[1],f=cn(null),p=f[0],m=f[1];return acfwpElements.element.createElement(fn,{className:"adjust-points-card",title:a.adjust_points},acfwpElements.element.createElement("h4",null,a.adjust_for_user),acfwpElements.element.createElement(pn,{layout:"inline",form:r,initialValues:{type:"increase",points:0},onFinish:function(e){var a=e.type,o=e.points;u(!1),l(!0),n.adjustCustomerPoints({id:t.id,type:a,points:o,successCB:function(e){hn.success(e.data.message),n.setStoreCustomerStatus({id:t.id,data:e.data.status}),n.setStoreCustomerSources({id:t.id,data:e.data.sources})},failCB:function(e){var t=e.error;hn.error(t.response.data.message)},alwaysCB:function(){r.resetFields(),m(null),l(!1)}})}},acfwpElements.element.createElement(pn.Item,{name:"type"},acfwpElements.element.createElement(dn,{onChange:function(e){var n=(null==t?void 0:t.status)?null==t?void 0:t.status[1].points:0,a="decrease"===r.getFieldValue("type")?n:null;m(a)}},acfwpElements.element.createElement(dn.Option,{value:"increase"},a.increase_points),acfwpElements.element.createElement(dn.Option,{value:"decrease"},a.decrease_points))),acfwpElements.element.createElement(pn.Item,{name:"points"},acfwpElements.element.createElement(mn,{type:"number",placeholder:"points",min:0,max:p})),acfwpElements.element.createElement(pn.Item,null,acfwpElements.element.createElement(yn,{visible:c,title:function(){return a.adjust_confirm.replace("{type}","increase"===r.getFieldValue("type")?a.uc_increase:a.uc_decrease).replace("{points}",r.getFieldValue("points"))},icon:acfwpElements.element.createElement(wn,null),okText:a.proceed,cancelText:a.cancel,okButtonProps:{className:"confirm-adjust-points"},onConfirm:function(){return r.submit()},onCancel:function(){u(!1),r.resetFields()}},acfwpElements.element.createElement(En,{type:"primary",htmlType:"button",loading:s,onClick:function(){var e=r.getFieldValue("points");!e||e<1?hn.error(a.invalid_points):p&&e>p?hn.error(a.invalid_maxpoints.replace("{maxpoints}",p)):u(!0)}},a.adjust)))))})),An=acfwpElements.element,Cn=An.useState,xn=An.useEffect,Rn=acfwpElements.antd,In=Rn.Card,kn=Rn.Table,Dn=function(e){var t=e.customer.status,n=acfwAdminApp.loyalty_program.labels,a=n.points_status,r=n.information,o=n.points,s=n.value,l=Cn(!0),i=l[0],c=l[1],u=[{title:r,dataIndex:"label",key:"label"},{title:o,dataIndex:"points",key:"points"},{title:s,dataIndex:"value",key:"value"}];return xn((function(){t&&t.length?c(!1):c(!0)}),[t,c]),acfwpElements.element.createElement(In,{className:"customer-points-status",title:a},acfwpElements.element.createElement(kn,{loading:i,pagination:!1,dataSource:t,columns:u}))},Nn=acfwpElements.element,Bn=Nn.useState,Un=Nn.useEffect,jn=acfwpElements.antd,Pn=jn.Card,Ln=jn.Table,Mn=function(e){var t=e.customer.sources,n=acfwAdminApp.loyalty_program.labels,a=Bn(!0),r=a[0],o=a[1],s=[{title:n.source,dataIndex:"label",key:"label"},{title:n.points,dataIndex:"points",key:"points"}];return Un((function(){t&&t.length?o(!1):o(!0)}),[t,o]),acfwpElements.element.createElement(Pn,{className:"customer-points-sources",title:n.points_sources},acfwpElements.element.createElement(Ln,{loading:r,pagination:!1,dataSource:t,columns:s}))},Hn=acfwpElements.element,Yn=Hn.useState,Vn=Hn.useEffect,Gn=acfwpElements.antd,Fn=Gn.Card,qn=Gn.Table,Jn=Gn.Pagination,zn=acfwpElements.redux,Xn=zn.bindActionCreators,Kn=zn.connect,Qn=I,Wn=j,$n=Kn(null,(function(e){return{actions:Xn({readCustomerHistory:Qn,setStoreHIstoryEntries:Wn},e)}}))((function(e){var t,n=e.customer,a=e.actions,r=null!==(t=null==n?void 0:n.history)&&void 0!==t?t:[],o=acfwAdminApp.loyalty_program.labels,s=Yn(!0),l=s[0],i=s[1],c=Yn(1),u=c[0],f=c[1],p=Yn(0),m=p[0],d=p[1],E=(null==n?void 0:n.status)?null==n?void 0:n.status[1].points:-1,y=[{title:o.date,dataIndex:"date",key:"date"},{title:o.activity,dataIndex:"activity",key:"activity"},{title:o.points,dataIndex:"points",key:"points"},{title:o.related,dataIndex:"rel_label",key:"rel_label",render:function(e,t){return t.rel_link?acfwpElements.element.createElement("a",{href:t.rel_link,target:"_blank"},e):e}}],h=function(e){(null==n?void 0:n.id)&&(i(!0),f(e),a.readCustomerHistory({id:n.id,page:e,successCB:function(t){1===e&&d(t.headers["x-total"]),i(!1)}}))};return Vn((function(){i(!0)}),[null==n?void 0:n.id]),Vn((function(){(null==n?void 0:n.id)&&h(u)}),[E]),acfwpElements.element.createElement(Fn,{title:o.points_history},acfwpElements.element.createElement(qn,{loading:l,pagination:!1,dataSource:r,columns:y}),m?acfwpElements.element.createElement(Jn,{defaultCurrent:u,hideOnSinglePage:!0,disabled:l,current:u,total:m,pageSize:10,showSizeChanger:!1,onChange:h}):null)})),Zn=acfwpElements.element,ea=Zn.Fragment,ta=Zn.useEffect,na=acfwpElements.redux,aa=na.bindActionCreators,ra=na.connect,oa=acfwpElements.antd,sa=oa.Descriptions,la=oa.Row,ia=oa.Col,ca=oa.Skeleton,ua=oa.Button,fa=acfwpElements.antdIcons.LeftOutlined,pa=acfwpElements.router.useHistory,ma=x,da=R,Ea=I,ya=ra((function(e){return{customers:e.customers}}),(function(e){return{actions:aa({readSingleCustomer:ma,readCustomerStatus:da,readCustomerHistory:Ea},e)}}))((function(e){var t,n=e.customerID,a=e.customers,r=e.actions,o=acfwAdminApp.loyalty_program.labels,s=a.findIndex((function(e){return e.id===n})),l=null!==(t=a[s])&&void 0!==t?t:null,i=pa();return ta((function(){l&&l.id?(r.readCustomerStatus({id:l.id}),r.readCustomerHistory({id:l.id})):r.readSingleCustomer({id:n,successCB:function(){r.readCustomerStatus({id:n}),r.readCustomerHistory({id:n})}})}),[]),acfwpElements.element.createElement("div",{className:"lpfw-single-customer"},acfwpElements.element.createElement(ua,{className:"go-back-customers",icon:acfwpElements.element.createElement(fa,null),onClick:function(){i.goBack()}},"Go back"),l?acfwpElements.element.createElement(ea,null,acfwpElements.element.createElement(sa,{title:o.customer_info,bordered:!0},acfwpElements.element.createElement(sa.Item,{label:o.customer_name},l.name),acfwpElements.element.createElement(sa.Item,{label:o.email},l.email)),acfwpElements.element.createElement(On,{customer:l}),acfwpElements.element.createElement(la,{gutter:16},acfwpElements.element.createElement(ia,{span:12},acfwpElements.element.createElement(Dn,{customer:l})),acfwpElements.element.createElement(ia,{span:12},acfwpElements.element.createElement(Mn,{customer:l}))),acfwpElements.element.createElement($n,{customer:l})):acfwpElements.element.createElement(ca,null))})),ha=acfwpElements.router.useLocation,wa=function(){var e=new URLSearchParams(ha().search).get("customer");return e?acfwpElements.element.createElement(ya,{customerID:parseInt(e)}):acfwpElements.element.createElement(sn,null)},va=acfwpElements.element,ga=(va.useEffect,va.useState,acfwpElements.antdIcons),ba=ga.SettingOutlined,Sa=ga.DollarCircleOutlined,Ta=ga.TrophyOutlined,_a=ga.UserOutlined,Oa=ga.MedicineBoxOutlined,Aa=ga.InfoCircleOutlined,Ca=function(e){switch(e.section){case"general":return acfwpElements.element.createElement(ba,null);case"points_earning":return acfwpElements.element.createElement(Sa,null);case"messages":return acfwpElements.element.createElement(Aa,null);case"redemption_expiry":return acfwpElements.element.createElement(Ta,null);case"role_restrictions":return acfwpElements.element.createElement(_a,null);case"help":return acfwpElements.element.createElement(Oa,null)}return null},xa=acfwpElements.element,Ra=(xa.useEffect,xa.useState,acfwpElements.router.Link),Ia=acfwpElements.redux,ka=Ia.bindActionCreators,Da=Ia.connect,Na=acfwpElements.antd,Ba=Na.Skeleton,Ua=Na.Menu,ja=acfwpElements.pathPrefix,Pa=Da((function(e){return{sections:e.settingSections}}),(function(e){return{actions:ka({},e)}}))((function(e){var t=e.sections,n=e.currentSection,a=n||"general";return t.length<1?acfwpElements.element.createElement("div",{className:"settings-nav-skeleton"},acfwpElements.element.createElement(Ba,{active:!0,paragraph:!1}),acfwpElements.element.createElement(Ba,{active:!0,paragraph:!1}),acfwpElements.element.createElement(Ba,{active:!0,paragraph:!1}),acfwpElements.element.createElement(Ba,{active:!0,paragraph:!1}),acfwpElements.element.createElement(Ba,{active:!0,paragraph:!1})):acfwpElements.element.createElement(Ua,{className:"acfw-settings-nav",defaultSelectedKeys:[a]},t.map((function(e){var t=e.id,n=e.title;return acfwpElements.element.createElement(Ua.Item,{key:t},acfwpElements.element.createElement(Ra,{to:"".concat(ja,"admin.php?page=acfw-loyalty-program&tab=settings&section=").concat(t)},acfwpElements.element.createElement(Ca,{section:t}),n))})))})),La=function(){return La=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},La.apply(this,arguments)},Ma=acfwpElements.antd,Ha=Ma.Typography,Ya=Ma.Switch,Va=Ma.Popover,Ga=acfwpElements.antdIcons.QuestionCircleOutlined,Fa=Ha.Text,qa=function(e){var t=e.field.options,n=e.value,a=e.handleValueChange;return acfwpElements.element.createElement("div",{className:"point-calc-options"},t?t.map((function(e){var t=e.key,r=e.default,o=e.label,s=e.tooltip;return acfwpElements.element.createElement("div",{className:"option",key:t},acfwpElements.element.createElement(Ya,{checked:"yes"===n[t],defaultChecked:"yes"===r,onChange:function(e){return function(e,t){var r=La({},n);r[e]=t?"yes":"",a({inputValue:r,needTimeout:!0})}(t,e)}}),acfwpElements.element.createElement(Fa,null,o),acfwpElements.element.createElement(Va,{placement:"right",content:acfwpElements.element.createElement("div",{className:"setting-tooltip-content"},s),trigger:"click"},acfwpElements.element.createElement(Ga,null)))})):null)},Ja=acfwpElements.element.useEffect,za=acfwpElements.redux,Xa=za.bindActionCreators,Ka=za.connect,Qa=acfwpElements.antd,Wa=Qa.Switch,$a=Qa.Typography.Text,Za=b,er=Ka((function(e,t){var n=t.field.options.map((function(e){return e.key}));return{values:e.settingValues.filter((function(e){return n.includes(e.id)}))}}),(function(e){return{actions:Xa({setStoreSettingItems:Za},e)}}))((function(e){var t=e.field.options,n=e.values,a=e.handleValueChange,r=e.actions;Ja((function(){if(!n.length){var e=null==t?void 0:t.map((function(e){return{id:e.key,value:e.value}}));e&&r.setStoreSettingItems({data:e})}}),[]);var o=function(e){var t=e.option,r=t.key,o=t.label,s=n.findIndex((function(e){return e.id===r})),l=n[s].value;return acfwpElements.element.createElement("div",{className:"option"},acfwpElements.element.createElement(Wa,{checked:"yes"===l,defaultChecked:"yes"===l,onChange:function(e){a({inputValue:e?"yes":"no",needTimeout:!1,overrideId:r,overrideTitle:o})}}),acfwpElements.element.createElement($a,null,o))};return n.length<1?null:acfwpElements.element.createElement("div",{className:"actions-earn-points-options"},null==t?void 0:t.map((function(e,t){return acfwpElements.element.createElement(o,{option:e,key:t})})))})),tr=acfwpElements.validateURL;function nr(e){var t=lpfwAdminApp.decimalPoint,n=new RegExp("[^-0-9%\\".concat(t,"]+"),"gi"),a=new RegExp("[^\\".concat(t,'"]'),"gi"),r=e.replace(n,"");1<r.replace(a,"").length&&(r=r.replace(a,""));var o=parseFloat(r.replace(t,"."));return e===r&&o>0}function ar(e){var t=lpfwAdminApp.decimalPoint;return parseFloat(e.replace(t,"."))}var rr=function(){return rr=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},rr.apply(this,arguments)},or=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},sr=acfwpElements.element,lr=sr.useEffect,ir=sr.useReducer,cr=(sr.useState,sr.Fragment,acfwpElements.lodash.isEqual),ur=acfwpElements.antd,fr=ur.Table,pr=ur.Input,mr=(ur.Text,acfwpElements.antdIcons),dr=mr.DeleteOutlined,Er=mr.PlusCircleOutlined;function yr(e,t){var n=t.type,a=t.payload,r=or([],e,!0);switch(n){case"rehydrate":return a;case"delete_row":return r.splice(a,1),r;case"add_row":return r.splice(a+1,0,{amount:"",points:"",sanitized:0}),r;case"set_amount":var o=a.index,s=a.value;return r[o]=rr(rr({},r[o]),{amount:s}),r;case"set_points":o=a.index,s=a.value;return r[o]=rr(rr({},r[o]),{points:s}),r;default:return e}}var hr=function(e){var t=e.value,n=e.handleValueChange,a=acfwAdminApp.loyalty_program.labels,r=lpfwAdminApp.currencySymbol,o=ir(yr,[]),s=o[0],l=o[1];lr((function(){var e="string"==typeof t?JSON.parse(t):t;e&&e.length&&l({type:"rehydrate",payload:e})}),[]),lr((function(){var t=s.filter((function(e){var t=e.amount,n=e.points;return t&&n})).sort((function(e,t){var n=ar(e.amount),a=ar(t.amount);return n<a?-1:n>a?1:0}));t&&t.length&&!cr(e.value,t)&&n({inputValue:t,needTimeout:!0})}),[s]);var i=[{title:a.breakpoint,dataIndex:"amount",render:function(e,t,n){return acfwpElements.element.createElement(pr,{addonBefore:r,type:"text",className:"wc_input_price",value:e,onChange:function(e){return l({type:"set_amount",payload:{index:n,value:e.target.value}})}})}},{title:a.points_earned,dataIndex:"points",render:function(e,t,n){return acfwpElements.element.createElement(pr,{type:"number",value:e,min:1,onChange:function(e){return l({type:"set_points",payload:{index:n,value:e.target.value}})}})}},{title:"",dataIndex:"points",render:function(e,t,n){return acfwpElements.element.createElement("div",{className:"points-table-actions"},n>0?acfwpElements.element.createElement("button",{className:"delete",onClick:function(){return l({type:"delete_row",payload:n})}},acfwpElements.element.createElement(dr,null)):null,acfwpElements.element.createElement("button",{className:"add"},acfwpElements.element.createElement(Er,{onClick:function(){return l({type:"add_row",payload:n})}})))}}];return acfwpElements.element.createElement(fr,{columns:i,dataSource:s.length?s:[{amount:"",points:"",sanitized:0}],pagination:!1,size:"small"})},wr=function(){return wr=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},wr.apply(this,arguments)},vr=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},gr=acfwpElements.element,br=(gr.Fragment,gr.useEffect),Sr=gr.useReducer,Tr=acfwpElements.lodash.isEqual,_r=acfwpElements.antd,Or=_r.Table,Ar=_r.DatePicker,Cr=_r.Input,xr=acfwpElements.antdIcons,Rr=xr.DeleteOutlined,Ir=xr.PlusCircleOutlined,kr=acfwpElements.moment,Dr=Ar.RangePicker;function Nr(e,t){var n=t.type,a=t.payload,r=vr([],e,!0);switch(n){case"rehydrate":return a;case"delete_row":return r.splice(a,1),r;case"add_row":return r.splice(a+1,0,{dateRange:null,points:""}),r;case"set_data":var o=a.index,s=a.value;return r[o]=wr({},s),r;default:return e}}var Br=function(e){var t=e.value,n=e.handleValueChange,a=acfwAdminApp.loyalty_program.labels,r=Sr(Nr,[]),o=r[0],s=r[1];br((function(){var e="string"==typeof t?JSON.parse(t):t;e&&e.length&&s({type:"rehydrate",payload:e.map(l)})}),[]),br((function(){var t=o.sort((function(e,t){var n,a;if((null==e?void 0:e.dateRange)&&(null==t?void 0:t.dateRange)){var r=null!==(n=null==e?void 0:e.dateRange[0].unix())&&void 0!==n?n:0,o=null!==(a=null==t?void 0:t.dateRange[0].unix())&&void 0!==a?a:0;if(r<o)return-1;if(r>o)return 1}return 0})).map(i).filter((function(e){return e.sdate&&e.stime&&e.edate&&e.etime&&e.points}));t&&t.length&&!Tr(e.value,t)&&n({inputValue:t,needTimeout:!0})}),[o]);var l=function(e){var t=e.sdate,n=e.stime,a=e.edate,r=e.etime,o=e.points;return{dateRange:[kr("".concat(t," ").concat(n),"MM/DD/YYYY hh:mm a"),kr("".concat(a," ").concat(r),"MM/DD/YYYY hh:mm a")],points:o}},i=function(e){var t,n,a,r,o=e.dateRange,s=e.points,l=o?o[0]:null,i=o?o[1]:null;return{sdate:null!==(t=null==l?void 0:l.format("MM/DD/YYYY"))&&void 0!==t?t:"",stime:null!==(n=null==l?void 0:l.format("hh:mm a"))&&void 0!==n?n:"",edate:null!==(a=null==i?void 0:i.format("MM/DD/YYYY"))&&void 0!==a?a:"",etime:null!==(r=null==i?void 0:i.format("hh:mm a"))&&void 0!==r?r:"",points:s}},c=[{title:a.date_range,dataIndex:"dateRange",render:function(e,t,n){return acfwpElements.element.createElement(Dr,{format:"YYYY/MM/DD hh:mm a",showTime:!0,value:e,onChange:function(e){return s({type:"set_data",payload:{index:n,value:wr(wr({},t),{dateRange:e})}})}})}},{title:a.points_earned,dataIndex:"points",render:function(e,t,n){return acfwpElements.element.createElement(Cr,{className:"points",type:"number",value:e,min:1,onChange:function(e){return s({type:"set_data",payload:{index:n,value:wr(wr({},t),{points:e.target.value})}})}})}},{title:"",dataIndex:"points",render:function(e,t,n){return acfwpElements.element.createElement("div",{className:"points-table-actions"},n>0?acfwpElements.element.createElement("button",{className:"delete",onClick:function(){return s({type:"delete_row",payload:n})}},acfwpElements.element.createElement(Rr,null)):null,acfwpElements.element.createElement("button",{className:"add"},acfwpElements.element.createElement(Ir,{onClick:function(){return s({type:"add_row",payload:n})}})))}}];return acfwpElements.element.createElement(Or,{className:"order-points-table",columns:c,dataSource:o&&o.length?o:[{dateRange:null,points:""}],pagination:!1,size:"small"})},Ur=acfwpElements.element.useState,jr=acfwpElements.antd,Pr=jr.Button,Lr=jr.message,Mr=function(e){var t=e.field,n=Ur(!1),a=n[0],r=n[1];return acfwpElements.element.createElement(Pr,{type:"primary",loading:a,onClick:function(){r(!0),jQuery.ajax({method:"post",url:ajaxurl,data:{action:t.id,nonce:null==t?void 0:t.nonce},dataType:"json"}).done((function(e){"success"===e.status?Lr.success(e.message):"warning"===e.status?Lr.warning(e.message):Lr.error(e.error_msg)})).always((function(){r(!1)}))}},t.title)},Hr=acfwpElements.element,Yr=Hr.Fragment,Vr=Hr.useState,Gr=acfwpElements.antd,Fr=Gr.Input,qr=Gr.Switch,Jr=Gr.Select,zr=Gr.message,Xr=acfwpElements.redux,Kr=Xr.bindActionCreators,Qr=Xr.connect,Wr=acfwpElements.lodash.defaults,$r=w,Zr=S,eo=acfwAdminApp.action_notices,to=Qr((function(e,t){var n=t.field.id,a=e.settingValues.findIndex((function(e){return e.id===n}));return{value:a>-1?e.settingValues[a].value:""}}),(function(e){return{actions:Kr({updateSetting:$r,setStoreSettingItem:Zr},e)}}))((function(e){var t,n=e.field,a=e.showSpinner,r=e.setShowSpinner,o=e.validateInput,s=e.value,l=e.actions,i=n.id,c=n.type,u=n.placeholder,f=n.default,p=lpfwAdminApp.currencySymbol,m=Vr(null),d=m[0],E=m[1],y=void 0!==s&&!1!==s?s:f,h=function(e){var t=Wr(e,{needTimeout:!1,overrideID:"",overrideTitle:""}),s=t.inputValue,u=t.needTimeout,f=t.overrideId,p=t.overrideTitle,m=f||i,y=p||n.title;l.setStoreSettingItem({data:{id:m,value:s}}),a&&(!function(e){var t=ie.get(e);t&&(t(),ie.delete(e))}(m),u&&r(!1));var h=function(){if(o(s)){l.updateSetting({data:{id:m,value:["breakpoints","order_period"].indexOf(c)>-1?JSON.stringify(s):s,type:c},processingCB:function(){return r(!0)},successCB:function(){zr.success(acfwpElements.element.createElement(Yr,null,acfwpElements.element.createElement("strong",null,y)," ",eo.success)),r(!1)},failCB:function(){zr.error(acfwpElements.element.createElement(Yr,null,acfwpElements.element.createElement("strong",null,y)," ",eo.fail)),r(!1)}})}};u?(d&&(clearTimeout(d),E(null)),E(setTimeout(h,1e3))):h()};if("checkbox"===c||"module"===c)return acfwpElements.element.createElement(qr,{key:i,checked:"yes"===y,defaultChecked:"yes"===y,onChange:function(e){return h({inputValue:e?"yes":""})}});if("textarea"===c)return acfwpElements.element.createElement(Fr.TextArea,{key:i,rows:3,placeholder:u,defaultValue:y,onChange:function(e){return h({inputValue:e.target.value,needTimeout:!0})}});if("select"===c){var w=n.options;return acfwpElements.element.createElement(Jr,{key:i,defaultValue:y||null,style:{width:"50%"},placeholder:u,allowClear:null===(t=null==n?void 0:n.allow_clear)||void 0===t||t,onSelect:function(e){return h({inputValue:e})},onClear:function(){return h({inputValue:null})}},w?w.map((function(e){var t=e.key,n=e.label;return acfwpElements.element.createElement(Jr.Option,{key:t.toString(),value:t.toString()},n)})):null)}if("multiselect"===c){w=n.options;return acfwpElements.element.createElement(Jr,{key:i,mode:"multiple",defaultValue:y,style:{width:"100%"},placeholder:u,onChange:function(e){return h({inputValue:e,needTimeout:!0})}},w?w.map((function(e){var t=e.key,n=e.label;return acfwpElements.element.createElement(Jr.Option,{key:t.toString(),value:t.toString()},n)})):null)}return"number"===c?acfwpElements.element.createElement(Fr,{key:i,type:c,name:i,placeholder:u,defaultValue:y,min:null==n?void 0:n.min,max:null==n?void 0:n.max,step:null==n?void 0:n.step,onChange:function(e){return h({inputValue:e.target.value,needTimeout:!0})}}):["text","url"].indexOf(c)>-1?acfwpElements.element.createElement(Fr,{key:i,type:c,name:i,placeholder:u,defaultValue:y,onChange:function(e){return h({inputValue:e.target.value,needTimeout:!0})}}):"price"===c?acfwpElements.element.createElement(Fr,{addonBefore:p,type:"text",className:"wc_input_price",name:i,placeholder:u,defaultValue:y,onChange:function(e){return h({inputValue:e.target.value,needTimeout:!0})}}):"points_calculation"===c?acfwpElements.element.createElement(qa,{field:n,value:y,handleValueChange:h}):"actions_earn_points"===c?acfwpElements.element.createElement(er,{field:n,handleValueChange:h}):"breakpoints"===c?acfwpElements.element.createElement(hr,{field:n,value:y,handleValueChange:h}):"order_period"===c?acfwpElements.element.createElement(Br,{field:n,value:y,handleValueChange:h}):"refetch_update_data"===c?acfwpElements.element.createElement(Mr,{field:n}):null})),no=acfwpElements.element.useState,ao=acfwpElements.antd,ro=ao.Typography,oo=ao.Spin,so=ao.Row,lo=ao.Col,io=ao.Divider,co=ao.Popover,uo=acfwpElements.antdIcons,fo=uo.QuestionCircleOutlined,po=uo.LoadingOutlined,mo=ro.Text,Eo=function(e){var t=e.field,n=e.order,a=t.id,r=t.title,o=t.type,s=t.desc,l=t.desc_tip,i=acfwAdminApp.validation,c=no(!1),u=c[0],f=c[1],p=no(!1),m=p[0],d=p[1],E=l?acfwpElements.element.createElement("div",{className:"setting-tooltip-content"},l):null;return"title"===o?acfwpElements.element.createElement("div",{className:"form-heading"},acfwpElements.element.createElement("h1",null,r),acfwpElements.element.createElement("p",null,s)):"subtitle"===o?acfwpElements.element.createElement("div",{className:"form-heading ".concat(n>0?"spacer":"")},acfwpElements.element.createElement("h3",null,r)):acfwpElements.element.createElement(so,{gutter:16,className:"form-control",id:"".concat(a,"_field"),key:a},n>0?acfwpElements.element.createElement(io,null):null,acfwpElements.element.createElement(lo,{span:8},acfwpElements.element.createElement("label",{className:"lpfw-setting-field-label"},acfwpElements.element.createElement("strong",null,r)),l?acfwpElements.element.createElement(co,{placement:"right",content:E,trigger:"click"},acfwpElements.element.createElement(fo,{className:"setting-tooltip-icon"})):null),acfwpElements.element.createElement(lo,{className:"setting-field-column",span:16},acfwpElements.element.createElement(to,{field:t,showSpinner:u,setShowSpinner:f,validateInput:function(e){var n=function(e,t,n){var a,r=!0;switch(t){case"number":var o=null!==(a=null==n?void 0:n.min)&&void 0!==a?a:0;r=parseInt(e)>=o;break;case"url":r=e&&tr(e+"");break;case"price":r=e&&nr(e+"");break;case"breakpoints":r=e.reduce((function(e,t){return nr(t.amount)&&e}),!0);break;case"order_period":r=e.reduce((function(e,t){var n=t.points;return parseInt(n)>0&&e}),!0)}return r}(e,o,t);return d(!n),n}}),u?acfwpElements.element.createElement(oo,{indicator:acfwpElements.element.createElement(po,{style:{fontSize:24},spin:!0})}):null,acfwpElements.element.createElement("div",{className:"invalid-input".concat(m?" show":"")},m?acfwpElements.element.createElement(mo,{type:"danger"},i[o]?i[o]:i.default):null),s?acfwpElements.element.createElement("p",{className:"field-desc",dangerouslySetInnerHTML:{__html:s}}):null))},yo=(acfwpElements.element.useEffect,acfwpElements.redux),ho=yo.bindActionCreators,wo=(0,yo.connect)((function(e,t){var n,a,r=t.field.toggle,o=e.settingValues.findIndex((function(e){return e.id===r})),s=o>=0?e.settingValues[o]:null;return{show:(s?s.value:null)===(null!==(a=null===(n=t.field)||void 0===n?void 0:n.toggleValue)&&void 0!==a?a:"yes")}}),(function(e){return{actions:ho({},e)}}))((function(e){var t=e.field,n=e.show,a=e.order;return n?acfwpElements.element.createElement(Eo,{field:t,order:a}):null})),vo=acfwpElements.element.Fragment,go=acfwpElements.antd,bo=go.Skeleton,So=go.Divider,To=acfwpElements.redux,_o=To.bindActionCreators,Oo=(0,To.connect)((function(e){return{sections:e.settingSections,settingValues:e.settingValues}}),(function(e){return{actions:_o({},e)}}))((function(e){var t=e.sections,n=e.settingValues,a=e.currentSection,r=a?t.findIndex((function(e){return e.id===a})):0,o=t.length?t[r].id:"",s=t.length?t[r].fields:[];if(s.length<1||n.length<1){return acfwpElements.element.createElement(vo,null,acfwpElements.element.createElement(bo,{loading:!0,active:!0,paragraph:{rows:1}}),[0,1,2].map((function(e){return acfwpElements.element.createElement(vo,null,acfwpElements.element.createElement(So,null),acfwpElements.element.createElement(bo,{loading:!0,active:!0,paragraph:{rows:2},title:!1}))})))}return acfwpElements.element.createElement("div",{className:"settings-form ".concat(o,"-form")},s.map((function(e,t){return acfwpElements.element.createElement(vo,{key:e.id},e.toggle?acfwpElements.element.createElement(wo,{field:e,order:t}):acfwpElements.element.createElement(Eo,{field:e,order:t}))})))})),Ao=acfwpElements.element,Co=Ao.Fragment,xo=Ao.useEffect,Ro=acfwpElements.router.useLocation,Io=acfwpElements.antd,ko=Io.Row,Do=Io.Col,No=acfwpElements.redux,Bo=No.bindActionCreators,Uo=No.connect,jo=u,Po=f,Lo=Uo((function(e){return{sections:e.settingSections}}),(function(e){return{actions:Bo({readSections:jo,readSection:Po},e)}}))((function(e){var t=e.sections,n=e.actions,a=acfwAdminApp.loyalty_program.tabs,r=new URLSearchParams(Ro().search),o=r.get("section")||"general",s=r.get("tab"),l=a.findIndex((function(e){return"settings"===e.slug})),i=a[l],c=i.label,u=i.desc;return xo((function(){t.length>0||n.readSections({id:o||"general"})}),[]),xo((function(){if(!(t.length<1)){var e=o?t.findIndex((function(e){return e.id===o})):0;t[e].fields.length<1&&n.readSection({id:o})}}),[t,n,o]),"settings"!==s?null:acfwpElements.element.createElement(Co,null,acfwpElements.element.createElement("div",{className:"tab-header"},acfwpElements.element.createElement("h1",null,c),acfwpElements.element.createElement("p",null,u)),acfwpElements.element.createElement(ko,{className:"settings-content"},acfwpElements.element.createElement(Do,{span:6},acfwpElements.element.createElement(Pa,{currentSection:o})),acfwpElements.element.createElement(Do,{span:18,className:"content-column"},acfwpElements.element.createElement(Oo,{currentSection:o}))))})),Mo=acfwpElements.element,Ho=Mo.Fragment,Yo=Mo.useEffect,Vo=Mo.useState,Go=acfwpElements.redux,Fo=Go.bindActionCreators,qo=Go.connect,Jo=acfwpElements.antd,zo=Jo.Form,Xo=Jo.Input,Ko=Jo.Button,Qo=Jo.Typography,Wo=Jo.Skeleton,$o=Jo.message,Zo=Qo.Link,es=H,ts=Y,ns=qo((function(e){return{license:e.license}}),(function(e){return{actions:Fo({readLicenseData:es,activateLicenseData:ts},e)}}))((function(e){var t=e.license,n=e.actions,a=acfwAdminApp.loyalty_program.license,r=Vo(!1),o=r[0],s=r[1],l=Vo(!1),i=l[0],c=l[1],u=zo.useForm()[0];Yo((function(){t||n.readLicenseData({alwaysCB:function(){return s(!0)}})}),[]);return acfwpElements.element.createElement("div",{id:"license-placeholder"},acfwpElements.element.createElement("div",{className:"license-info"},acfwpElements.element.createElement("div",{className:"heading"},acfwpElements.element.createElement("div",{className:"left"},acfwpElements.element.createElement("span",null,a.license_status)),acfwpElements.element.createElement("div",{className:"right"},acfwpElements.element.createElement("span",{className:"action-button active-indicator no-hover"},"yes"===(null==t?void 0:t.is_active)?a.activated:a.not_activated))),acfwpElements.element.createElement("div",{className:"content"},acfwpElements.element.createElement("p",null,a.description),acfwpElements.element.createElement("table",{className:"license-specs"},acfwpElements.element.createElement("thead",null,acfwpElements.element.createElement("tr",null,acfwpElements.element.createElement("th",null,a.version_label))),acfwpElements.element.createElement("tbody",null,acfwpElements.element.createElement("tr",null,acfwpElements.element.createElement("td",null,a.version_value))))),acfwpElements.element.createElement("div",{className:"license-form"},o?acfwpElements.element.createElement(Ho,null,acfwpElements.element.createElement(zo,{layout:"vertical",form:u,initialValues:{key:(null==t?void 0:t.key)?t.key:"",email:(null==t?void 0:t.email)?t.email:""},onFinish:function(e){var t=e.key,a=e.email;c(!0),n.activateLicenseData({license_key:t,email:a,successCB:function(e){"success"===e.data.status?$o.success(e.data.success_msg):$o.error(e.data.error_msg)},alwaysCB:function(){return c(!1)}})}},acfwpElements.element.createElement(zo.Item,{label:a.license_key,name:"key"},acfwpElements.element.createElement(Xo,{type:"password",autocomplete:"off",required:!0})),acfwpElements.element.createElement(zo.Item,{label:a.license_email,name:"email"},acfwpElements.element.createElement(Xo,{type:"email",autocomplete:"off",required:!0})),acfwpElements.element.createElement(zo.Item,{className:"form-action"},acfwpElements.element.createElement(Ko,{type:"primary",htmlType:"submit",loading:i},a.activate_btn))),acfwpElements.element.createElement("div",{className:"help-row"},a.help.text," ",acfwpElements.element.createElement(Zo,{href:a.help.link,target:"_blank"},a.help.login))):acfwpElements.element.createElement(Wo,{loading:!0,active:!0,paragraph:{rows:1}}))))})),as=function(e){var t=e.slug;return"dashboard"===t?acfwpElements.element.createElement(Ft,null):"customers"===t?acfwpElements.element.createElement(ze,null,acfwpElements.element.createElement(wa,null)):"settings"===t?acfwpElements.element.createElement(Lo,null):"license"===t?acfwAdminApp.loyalty_program.license.is_multisite?(window.location.href=acfwAdminApp.loyalty_program.license.license_page,null):acfwpElements.element.createElement(ns,null):null},rs=acfwpElements.element,os=rs.useState,ss=rs.useEffect,ls=acfwpElements.router,is=ls.useHistory,cs=ls.useLocation,us=acfwpElements.antd.Tabs,fs=acfwpElements.appStore.store,ps=acfwpElements.pathPrefix,ms=us.TabPane,ds=function(){var e=acfwAdminApp.logo,t=acfwAdminApp.loyalty_program,n=t.title,a=t.tabs,r=os(""),o=r[0],s=r[1],l=new URLSearchParams(cs().search).get("tab"),i=l?a.findIndex((function(e){return e.slug===l})):0,c=is();ss((function(){o||s(fs.getState().page)}),[]);fs.subscribe((function(){var e=fs.getState().page;o!==e&&s(e)}));return"acfw-loyalty-program"!==o?null:acfwpElements.element.createElement("div",{className:"lpfw-app acfw-admin-app"},acfwpElements.element.createElement("div",{className:"page-header loyalty-program-header"},acfwpElements.element.createElement("img",{className:"acfw-logo",src:e,alt:"acfw logo"}),acfwpElements.element.createElement("h1",null,n)),acfwpElements.element.createElement(us,{activeKey:i+"",defaultActiveKey:i+"",onTabClick:function(e){c.push("".concat(ps,"admin.php?page=acfw-loyalty-program&tab=").concat(a[e].slug))}},a.map((function(e,t){return acfwpElements.element.createElement(ms,{tab:e.label,key:t},acfwpElements.element.createElement(as,{slug:e.slug}))}))))},Es=acfwpElements.dom,ys=acfwpElements.router,hs=ys.BrowserRouter,ws=ys.Route,vs=acfwpElements.pathPrefix,gs=acfwpElements.appStore,bs=gs.Provider,Ss=(gs.store,function(e){void 0===e&&(e=void 0);var t,n=He(),a=Pe(Le({dashboard:i,settingSections:y,settingValues:O,customers:M,license:G}),e,(t=[n],Me.apply(void 0,t)));return n.run(Be),a}());document.querySelectorAll("#lpfw_admin_app").forEach((function(e){Es.render(acfwpElements.element.createElement(bs,{store:Ss},acfwpElements.element.createElement(hs,null,acfwpElements.element.createElement(ws,{path:"".concat(vs,"admin.php"),component:ds}))),e)}))}()}();
//# sourceMappingURL=lpfw-admin-app.js.map