!function(){"use strict";var e=function(){return e=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},e.apply(this,arguments)},t=acfwpElements.element,n=t.useEffect,a=t.useState,l=t.Fragment,c=acfwpElements.antd,m=c.Form,s=c.Input,r=c.Button,i=c.Typography,p=c.Skeleton,o=c.message,f=acfwpElements.antdIcons.CheckCircleFilled,E=function(){var t=a({key:!1}),c=t[0],E=t[1],u=a(!1),w=u[0],d=u[1],v=a(!1),y=v[0],g=v[1],_=i.Link,h=m.useForm()[0],k=agcfwAdminApp.license_page,b=k.title,N=k.about_content,j=k.license_status,x=k.indicator,S=k.specs,A=k.formlabels,F=k.spinner_img;n((function(){jQuery.ajax({url:ajaxurl,data:{action:"agcfw_get_license_details"},dataType:"json"}).done((function(e){"success"===e.status&&E({key:e.license_key?e.license_key:"",email:e.email?e.email:"",is_active:e.is_active})})).always((function(){return d(!0)}))}),[E,d]);return acfwpElements.element.createElement("div",{id:"license-placeholder"},acfwpElements.element.createElement("div",{className:"overview"},acfwpElements.element.createElement("h1",null,b)),acfwpElements.element.createElement("div",{className:"license-info ".concat(y?"show":"")},acfwpElements.element.createElement("div",{className:"heading"},acfwpElements.element.createElement("div",{className:"left"},acfwpElements.element.createElement("span",null,j)),acfwpElements.element.createElement("div",{className:"right"},acfwpElements.element.createElement("span",{className:"action-button active-indicator no-hover ".concat("yes"==c.is_active?"activated":"")},"yes"==c.is_active&&acfwpElements.element.createElement(f,null),"yes"==c.is_active?x.active:x.inactive))),acfwpElements.element.createElement("div",{className:"content"},acfwpElements.element.createElement("p",null,N),acfwpElements.element.createElement("table",{className:"license-specs"},acfwpElements.element.createElement("thead",null,acfwpElements.element.createElement("tr",null,S.map((function(e){return acfwpElements.element.createElement("th",{key:e.label},e.label)})))),acfwpElements.element.createElement("tbody",null,acfwpElements.element.createElement("tr",null,S.map((function(e){return acfwpElements.element.createElement("td",{key:e.value},e.value)})))))),acfwpElements.element.createElement("div",{className:"license-form"},w?acfwpElements.element.createElement(l,null,acfwpElements.element.createElement(m,{layout:"vertical",form:h,initialValues:c,onFinish:function(t){g(!0),function(e){var t=agcfwAdminApp.license_page._formNonce;return jQuery.ajax({method:"post",url:ajaxurl,data:{action:"agcfw_activate_license","activation-email":e.email,"license-key":e.key,"ajax-nonce":t},dataType:"json"})}(t).done((function(n){var a,l;"success"===n.status?(o.success(n.success_msg),E({key:null!==(a=t.key)&&void 0!==a?a:"",email:null!==(l=t.email)&&void 0!==l?l:"",is_active:"yes"})):(["inactive","expired"].includes(n.license_status)&&E(e(e({},c),{is_active:"no"})),o.error(n.error_msg))})).always((function(){return g(!1)}))}},acfwpElements.element.createElement(m.Item,{label:A.license_key,name:"key"},acfwpElements.element.createElement(s,{type:"password",autocomplete:"off"})),acfwpElements.element.createElement(m.Item,{label:A.email,name:"email"},acfwpElements.element.createElement(s,{type:"email",autocomplete:"off"})),acfwpElements.element.createElement(m.Item,{className:"form-action ".concat("yes"==c.is_active?"grayed":"")},acfwpElements.element.createElement(r,{type:"primary",htmlType:"submit"},A.button))),acfwpElements.element.createElement("div",{className:"help-row"},A.help.text," ",acfwpElements.element.createElement(_,{href:A.help.link,target:"_blank"},A.help.login))):acfwpElements.element.createElement(p,{loading:!0,active:!0,paragraph:{rows:1}})),acfwpElements.element.createElement("div",{className:"overlay"},acfwpElements.element.createElement("img",{src:F,alt:"spinner"}))))},u=acfwpElements.element,w=u.useState,d=u.useEffect,v=acfwpElements.appStore.store,y=function(){var e=w(""),t=e[0],n=e[1];d((function(){t||n(v.getState().page)}),[]);return v.subscribe((function(){var e=v.getState().page;t!==e&&n(e)})),"acfw-license"===t?acfwpElements.element.createElement(E,null):null},g=acfwpElements.dom,_=acfwpElements.router,h=_.BrowserRouter,k=_.Route,b=acfwpElements.pathPrefix,N=acfwpElements.appStore;N.Provider,N.store;document.querySelectorAll("#agcfw_admin_app").forEach((function(e){g.render(acfwpElements.element.createElement(h,null,acfwpElements.element.createElement(k,{path:"".concat(b,"admin.php"),component:y})),e)}))}();
//# sourceMappingURL=admin-app.js.map